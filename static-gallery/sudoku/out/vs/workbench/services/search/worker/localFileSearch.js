"use strict";/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var se=["require","exports","vs/base/common/platform","vs/base/common/path","vs/base/common/strings","vs/base/common/extpath","vs/base/common/uri","vs/base/common/resources","vs/base/common/async","vs/base/common/glob","vs/base/common/map","vs/base/common/symbols","vs/base/common/network","vs/base/common/errors","vs/base/common/cancellation","vs/workbench/services/search/common/getFileResults","vs/workbench/services/search/common/ignoreFile","vs/base/common/types","vs/base/common/event","vs/base/common/lifecycle","vs/base/common/arrays","vs/editor/common/core/range","vs/workbench/services/search/worker/localFileSearch"],re=function(x){for(var e=[],C=0,M=x.length;C<M;C++)e[C]=se[x[C]];return e};define(se[10],re([0,1]),function(x,e){"use strict";var C,M,A;Object.defineProperty(e,"__esModule",{value:!0}),e.$ri=e.$qi=e.$pi=e.Touch=e.$oi=e.$ni=e.$mi=e.$li=e.$ki=void 0;function P(c,n,a){let d=c.get(n);return d===void 0&&(d=a,c.set(n,d)),d}e.$ki=P;function y(c){const n=[];return c.forEach((a,d)=>{n.push(`${d} => ${a}`)}),`Map(${c.size}) {${n.join(", ")}}`}e.$li=y;function j(c){const n=[];return c.forEach(a=>{n.push(a)}),`Set(${c.size}) {${n.join(", ")}}`}e.$mi=j;class Y{constructor(n,a){this.uri=n,this.value=a}}class m{static{this.a=n=>n.toString()}constructor(n,a){this[C]="ResourceMap",n instanceof m?(this.b=new Map(n.b),this.c=a??m.a):(this.b=new Map,this.c=n??m.a)}set(n,a){return this.b.set(this.c(n),new Y(n,a)),this}get(n){return this.b.get(this.c(n))?.value}has(n){return this.b.has(this.c(n))}get size(){return this.b.size}clear(){this.b.clear()}delete(n){return this.b.delete(this.c(n))}forEach(n,a){typeof a<"u"&&(n=n.bind(a));for(const[d,o]of this.b)n(o.value,o.uri,this)}*values(){for(const n of this.b.values())yield n.value}*keys(){for(const n of this.b.values())yield n.uri}*entries(){for(const n of this.b.values())yield[n.uri,n.value]}*[(C=Symbol.toStringTag,Symbol.iterator)](){for(const[,n]of this.b)yield[n.uri,n.value]}}e.$ni=m;class b{constructor(n,a){this[M]="ResourceSet",!n||typeof n=="function"?this.a=new m(n):(this.a=new m(a),n.forEach(this.add,this))}get size(){return this.a.size}add(n){return this.a.set(n,n),this}clear(){this.a.clear()}delete(n){return this.a.delete(n)}forEach(n,a){this.a.forEach((d,o)=>n.call(a,o,o,this))}has(n){return this.a.has(n)}entries(){return this.a.entries()}keys(){return this.a.keys()}values(){return this.a.keys()}[(M=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}}e.$oi=b;var B;(function(c){c[c.None=0]="None",c[c.AsOld=1]="AsOld",c[c.AsNew=2]="AsNew"})(B||(e.Touch=B={}));class z{constructor(){this[A]="LinkedMap",this.a=new Map,this.b=void 0,this.c=void 0,this.d=0,this.e=0}clear(){this.a.clear(),this.b=void 0,this.c=void 0,this.d=0,this.e++}isEmpty(){return!this.b&&!this.c}get size(){return this.d}get first(){return this.b?.value}get last(){return this.c?.value}has(n){return this.a.has(n)}get(n,a=0){const d=this.a.get(n);if(d)return a!==0&&this.j(d,a),d.value}set(n,a,d=0){let o=this.a.get(n);if(o)o.value=a,d!==0&&this.j(o,d);else{switch(o={key:n,value:a,next:void 0,previous:void 0},d){case 0:this.h(o);break;case 1:this.g(o);break;case 2:this.h(o);break;default:this.h(o);break}this.a.set(n,o),this.d++}return this}delete(n){return!!this.remove(n)}remove(n){const a=this.a.get(n);if(a)return this.a.delete(n),this.i(a),this.d--,a.value}shift(){if(!this.b&&!this.c)return;if(!this.b||!this.c)throw new Error("Invalid list");const n=this.b;return this.a.delete(n.key),this.i(n),this.d--,n.value}forEach(n,a){const d=this.e;let o=this.b;for(;o;){if(a?n.bind(a)(o.value,o.key,this):n(o.value,o.key,this),this.e!==d)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){const n=this,a=this.e;let d=this.b;const o={[Symbol.iterator](){return o},next(){if(n.e!==a)throw new Error("LinkedMap got modified during iteration.");if(d){const U={value:d.key,done:!1};return d=d.next,U}else return{value:void 0,done:!0}}};return o}values(){const n=this,a=this.e;let d=this.b;const o={[Symbol.iterator](){return o},next(){if(n.e!==a)throw new Error("LinkedMap got modified during iteration.");if(d){const U={value:d.value,done:!1};return d=d.next,U}else return{value:void 0,done:!0}}};return o}entries(){const n=this,a=this.e;let d=this.b;const o={[Symbol.iterator](){return o},next(){if(n.e!==a)throw new Error("LinkedMap got modified during iteration.");if(d){const U={value:[d.key,d.value],done:!1};return d=d.next,U}else return{value:void 0,done:!0}}};return o}[(A=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}f(n){if(n>=this.size)return;if(n===0){this.clear();return}let a=this.b,d=this.size;for(;a&&d>n;)this.a.delete(a.key),a=a.next,d--;this.b=a,this.d=d,a&&(a.previous=void 0),this.e++}g(n){if(!this.b&&!this.c)this.c=n;else if(this.b)n.next=this.b,this.b.previous=n;else throw new Error("Invalid list");this.b=n,this.e++}h(n){if(!this.b&&!this.c)this.b=n;else if(this.c)n.previous=this.c,this.c.next=n;else throw new Error("Invalid list");this.c=n,this.e++}i(n){if(n===this.b&&n===this.c)this.b=void 0,this.c=void 0;else if(n===this.b){if(!n.next)throw new Error("Invalid list");n.next.previous=void 0,this.b=n.next}else if(n===this.c){if(!n.previous)throw new Error("Invalid list");n.previous.next=void 0,this.c=n.previous}else{const a=n.next,d=n.previous;if(!a||!d)throw new Error("Invalid list");a.previous=d,d.next=a}n.next=void 0,n.previous=void 0,this.e++}j(n,a){if(!this.b||!this.c)throw new Error("Invalid list");if(!(a!==1&&a!==2)){if(a===1){if(n===this.b)return;const d=n.next,o=n.previous;n===this.c?(o.next=void 0,this.c=o):(d.previous=o,o.next=d),n.previous=void 0,n.next=this.b,this.b.previous=n,this.b=n,this.e++}else if(a===2){if(n===this.c)return;const d=n.next,o=n.previous;n===this.b?(d.previous=void 0,this.b=d):(d.previous=o,o.next=d),n.next=void 0,n.previous=this.c,this.c.next=n,this.c=n,this.e++}}}toJSON(){const n=[];return this.forEach((a,d)=>{n.push([d,a])}),n}fromJSON(n){this.clear();for(const[a,d]of n)this.set(a,d)}}e.$pi=z;class F extends z{constructor(n,a=1){super(),this.k=n,this.l=Math.min(Math.max(0,a),1)}get limit(){return this.k}set limit(n){this.k=n,this.m()}get ratio(){return this.l}set ratio(n){this.l=Math.min(Math.max(0,n),1),this.m()}get(n,a=2){return super.get(n,a)}peek(n){return super.get(n,0)}set(n,a){return super.set(n,a,2),this.m(),this}m(){this.size>this.k&&this.f(Math.round(this.k*this.l))}}e.$qi=F;class s{constructor(){this.a=new Map}add(n){return this.a.set(n,(this.a.get(n)||0)+1),this}delete(n){let a=this.a.get(n)||0;return a===0?!1:(a--,a===0?this.a.delete(n):this.a.set(n,a),!0)}has(n){return this.a.has(n)}}e.$ri=s}),define(se[11],re([0,1]),function(x,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$bc=void 0,e.$bc=Symbol("MicrotaskDelay")}),define(se[5],re([0,1,3,2,4,17]),function(x,e,C,M,A,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Pe=e.$Oe=e.$Ne=e.$Me=e.$Le=e.$Ke=e.$Je=e.$Ie=e.$He=e.$Ge=e.$Fe=e.$Ee=e.$De=e.$Ce=e.$Be=e.$Ae=void 0;function y(r){return r===47||r===92}e.$Ae=y;function j(r){return r.replace(/[\\/]/g,C.$5c.sep)}e.$Be=j;function Y(r){return r.indexOf("/")===-1&&(r=j(r)),/^[a-zA-Z]:(\/|$)/.test(r)&&(r="/"+r),r}e.$Ce=Y;function m(r,$=C.$5c.sep){if(!r)return"";const D=r.length,q=r.charCodeAt(0);if(y(q)){if(y(r.charCodeAt(1))&&!y(r.charCodeAt(2))){let W=3;const V=W;for(;W<D&&!y(r.charCodeAt(W));W++);if(V!==W&&!y(r.charCodeAt(W+1))){for(W+=1;W<D;W++)if(y(r.charCodeAt(W)))return r.slice(0,W+1).replace(/[\\/]/g,$)}}return $}else if(a(q)&&r.charCodeAt(1)===58)return y(r.charCodeAt(2))?r.slice(0,2)+$:r.slice(0,2);let K=r.indexOf("://");if(K!==-1){for(K+=3;K<D;K++)if(y(r.charCodeAt(K)))return r.slice(0,K+1)}return""}e.$De=m;function b(r){if(!M.$i||!r||r.length<5)return!1;let $=r.charCodeAt(0);if($!==92||($=r.charCodeAt(1),$!==92))return!1;let D=2;const q=D;for(;D<r.length&&($=r.charCodeAt(D),$!==92);D++);return!(q===D||($=r.charCodeAt(D+1),isNaN($)||$===92))}e.$Ee=b;const B=/[\\/:\*\?"<>\|]/g,z=/[\\/]/g,F=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function s(r,$=M.$i){const D=$?B:z;return!(!r||r.length===0||/^\s+$/.test(r)||(D.lastIndex=0,D.test(r))||$&&F.test(r)||r==="."||r===".."||$&&r[r.length-1]==="."||$&&r.length!==r.trim().length||r.length>255)}e.$Fe=s;function c(r,$,D){const q=r===$;return!D||q?q:!r||!$?!1:(0,A.$Ld)(r,$)}e.$Ge=c;function n(r,$,D,q=C.sep){if(r===$)return!0;if(!r||!$||$.length>r.length)return!1;if(D){if(!(0,A.$Md)(r,$))return!1;if($.length===r.length)return!0;let W=$.length;return $.charAt($.length-1)===q&&W--,r.charAt(W)===q}return $.charAt($.length-1)!==q&&($+=q),r.indexOf($)===0}e.$He=n;function a(r){return r>=65&&r<=90||r>=97&&r<=122}e.$Ie=a;function d(r,$){return M.$i&&r.endsWith(":")&&(r+=C.sep),(0,C.$7c)(r)||(r=(0,C.$8c)($,r)),r=(0,C.$6c)(r),M.$i?(r=(0,A.$ud)(r,C.sep),r.endsWith(":")&&(r+=C.sep)):(r=(0,A.$ud)(r,C.sep),r||(r=C.sep)),r}e.$Je=d;function o(r){const $=(0,C.$6c)(r);return M.$i?r.length>3?!1:U($)&&(r.length===2||$.charCodeAt(2)===92):$===C.$5c.sep}e.$Ke=o;function U(r,$=M.$i){return $?a(r.charCodeAt(0))&&r.charCodeAt(1)===58:!1}e.$Le=U;function _(r,$=M.$i){return U(r,$)?r[0]:void 0}e.$Me=_;function E(r,$,D){return $.length>r.length?-1:r===$?0:(D&&(r=r.toLowerCase(),$=$.toLowerCase()),r.indexOf($))}e.$Ne=E;function N(r){const $=r.split(":");let D,q,K;for(const W of $){const V=Number(W);(0,P.$me)(V)?q===void 0?q=V:K===void 0&&(K=V):D=D?[D,W].join(":"):W}if(!D)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:D,line:q!==void 0?q:void 0,column:K!==void 0?K:q!==void 0?1:void 0}}e.$Oe=N;const L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",X="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function Z(r,$,D=8){let q="";for(let W=0;W<D;W++){let V;W===0&&M.$i&&!$&&(D===3||D===4)?V=X:V=L,q+=V.charAt(Math.floor(Math.random()*V.length))}let K;return $?K=`${$}-${q}`:K=q,r?(0,C.$8c)(r,K):K}e.$Pe=Z}),define(se[12],re([0,1,13,2,6]),function(x,e,C,M,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.$1e=e.$Ze=e.$Ye=e.$Xe=e.$We=e.$Ve=e.$Ue=e.$Te=e.Schemas=void 0;var P;(function(m){m.inMemory="inmemory",m.vscode="vscode",m.internal="private",m.walkThrough="walkThrough",m.walkThroughSnippet="walkThroughSnippet",m.http="http",m.https="https",m.file="file",m.mailto="mailto",m.untitled="untitled",m.data="data",m.command="command",m.vscodeRemote="vscode-remote",m.vscodeRemoteResource="vscode-remote-resource",m.vscodeManagedRemoteResource="vscode-managed-remote-resource",m.vscodeUserData="vscode-userdata",m.vscodeCustomEditor="vscode-custom-editor",m.vscodeNotebookCell="vscode-notebook-cell",m.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",m.vscodeNotebookCellOutput="vscode-notebook-cell-output",m.vscodeInteractiveInput="vscode-interactive-input",m.vscodeSettings="vscode-settings",m.vscodeWorkspaceTrust="vscode-workspace-trust",m.vscodeTerminal="vscode-terminal",m.vscodeChatSesssion="vscode-chat-editor",m.webviewPanel="webview-panel",m.vscodeWebview="vscode-webview",m.extension="extension",m.vscodeFileResource="vscode-file",m.tmp="tmp",m.vsls="vsls",m.vscodeSourceControl="vscode-scm"})(P||(e.Schemas=P={})),e.$Te="vscode-tkn",e.$Ue="tkn";class y{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f=`/${P.vscodeRemoteResource}`}setPreferredWebSchema(b){this.d=b}setDelegate(b){this.e=b}setServerRootPath(b){this.f=`${b}/${P.vscodeRemoteResource}`}set(b,B,z){this.a[b]=B,this.b[b]=z}setConnectionToken(b,B){this.c[b]=B}getPreferredWebSchema(){return this.d}rewrite(b){if(this.e)try{return this.e(b)}catch(n){return C.$Y(n),b}const B=b.authority;let z=this.a[B];z&&z.indexOf(":")!==-1&&z.indexOf("[")===-1&&(z=`[${z}]`);const F=this.b[B],s=this.c[B];let c=`path=${encodeURIComponent(b.path)}`;return typeof s=="string"&&(c+=`&${e.$Ue}=${encodeURIComponent(s)}`),A.URI.from({scheme:M.$o?this.d:P.vscodeRemoteResource,authority:`${z}:${F}`,path:this.f,query:c})}}e.$Ve=new y,e.$We="vs/../../extensions",e.$Xe="vs/../../node_modules",e.$Ye="vs/../../node_modules.asar",e.$Ze="vs/../../node_modules.asar.unpacked";class j{static{this.a="vscode-app"}asBrowserUri(b){const B=this.b(b,x);return this.uriToBrowserUri(B)}uriToBrowserUri(b){return b.scheme===P.vscodeRemote?e.$Ve.rewrite(b):b.scheme===P.file&&(M.$m||M.$p&&M.$g.origin===`${P.vscodeFileResource}://${j.a}`)?b.with({scheme:P.vscodeFileResource,authority:b.authority||j.a,query:null,fragment:null}):b}asFileUri(b){const B=this.b(b,x);return this.uriToFileUri(B)}uriToFileUri(b){return b.scheme===P.vscodeFileResource?b.with({scheme:P.file,authority:b.authority!==j.a?b.authority:null,query:null,fragment:null}):b}b(b,B){return A.URI.isUri(b)?b:A.URI.parse(B.toUrl(b))}}e.$1e=new j;var Y;(function(m){const b=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);m.CoopAndCoep=Object.freeze(b.get("3"));const B="vscode-coi";function z(s){let c;typeof s=="string"?c=new URL(s).searchParams:s instanceof URL?c=s.searchParams:A.URI.isUri(s)&&(c=new URL(s.toString(!0)).searchParams);const n=c?.get(B);if(n)return b.get(n)}m.getHeadersFromQuery=z;function F(s,c,n){if(!globalThis.crossOriginIsolated)return;const a=c&&n?"3":n?"2":"1";s instanceof URLSearchParams?s.set(B,a):s[B]=a}m.addSearchParam=F})(Y||(e.COI=Y={}))}),define(se[7],re([0,1,5,12,3,2,4,6]),function(x,e,C,M,A,P,y,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$gg=e.DataUri=e.$fg=e.$eg=e.$dg=e.$cg=e.$bg=e.$ag=e.$_f=e.$$f=e.$0f=e.$9f=e.$8f=e.$7f=e.$6f=e.$5f=e.$4f=e.$3f=e.$2f=e.$1f=e.$Zf=e.$Yf=e.$Xf=e.$Wf=void 0;function Y(F){return(0,j.$Se)(F,!0)}e.$Wf=Y;class m{constructor(s){this.a=s}compare(s,c,n=!1){return s===c?0:(0,y.$Ed)(this.getComparisonKey(s,n),this.getComparisonKey(c,n))}isEqual(s,c,n=!1){return s===c?!0:!s||!c?!1:this.getComparisonKey(s,n)===this.getComparisonKey(c,n)}getComparisonKey(s,c=!1){return s.with({path:this.a(s)?s.path.toLowerCase():void 0,fragment:c?null:void 0}).toString()}ignorePathCasing(s){return this.a(s)}isEqualOrParent(s,c,n=!1){if(s.scheme===c.scheme){if(s.scheme===M.Schemas.file)return C.$He(Y(s),Y(c),this.a(s))&&s.query===c.query&&(n||s.fragment===c.fragment);if((0,e.$bg)(s.authority,c.authority))return C.$He(s.path,c.path,this.a(s),"/")&&s.query===c.query&&(n||s.fragment===c.fragment)}return!1}joinPath(s,...c){return j.URI.joinPath(s,...c)}basenameOrAuthority(s){return(0,e.$6f)(s)||s.authority}basename(s){return A.$5c.basename(s.path)}extname(s){return A.$5c.extname(s.path)}dirname(s){if(s.path.length===0)return s;let c;return s.scheme===M.Schemas.file?c=j.URI.file(A.$$c(Y(s))).path:(c=A.$5c.dirname(s.path),s.authority&&c.length&&c.charCodeAt(0)!==47&&(console.error(`dirname("${s.toString})) resulted in a relative path`),c="/")),s.with({path:c})}normalizePath(s){if(!s.path.length)return s;let c;return s.scheme===M.Schemas.file?c=j.URI.file(A.$6c(Y(s))).path:c=A.$5c.normalize(s.path),s.with({path:c})}relativePath(s,c){if(s.scheme!==c.scheme||!(0,e.$bg)(s.authority,c.authority))return;if(s.scheme===M.Schemas.file){const d=A.$0c(Y(s),Y(c));return P.$i?C.$Be(d):d}let n=s.path||"/";const a=c.path||"/";if(this.a(s)){let d=0;for(const o=Math.min(n.length,a.length);d<o&&!(n.charCodeAt(d)!==a.charCodeAt(d)&&n.charAt(d).toLowerCase()!==a.charAt(d).toLowerCase());d++);n=a.substr(0,d)+n.substr(d)}return A.$5c.relative(n,a)}resolvePath(s,c){if(s.scheme===M.Schemas.file){const n=j.URI.file(A.$9c(Y(s),c));return s.with({authority:n.authority,path:n.path})}return c=C.$Ce(c),s.with({path:A.$5c.resolve(s.path,c)})}isAbsolutePath(s){return!!s.path&&s.path[0]==="/"}isEqualAuthority(s,c){return s===c||s!==void 0&&c!==void 0&&(0,y.$Ld)(s,c)}hasTrailingPathSeparator(s,c=A.sep){if(s.scheme===M.Schemas.file){const n=Y(s);return n.length>C.$De(n).length&&n[n.length-1]===c}else{const n=s.path;return n.length>1&&n.charCodeAt(n.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(s.fsPath)}}removeTrailingPathSeparator(s,c=A.sep){return(0,e.$cg)(s,c)?s.with({path:s.path.substr(0,s.path.length-1)}):s}addTrailingPathSeparator(s,c=A.sep){let n=!1;if(s.scheme===M.Schemas.file){const a=Y(s);n=a!==void 0&&a.length===C.$De(a).length&&a[a.length-1]===c}else{c="/";const a=s.path;n=a.length===1&&a.charCodeAt(a.length-1)===47}return!n&&!(0,e.$cg)(s,c)?s.with({path:s.path+"/"}):s}}e.$Xf=m,e.$Yf=new m(()=>!1),e.$Zf=new m(F=>F.scheme===M.Schemas.file?!P.$k:!0),e.$1f=new m(F=>!0),e.$2f=e.$Yf.isEqual.bind(e.$Yf),e.$3f=e.$Yf.isEqualOrParent.bind(e.$Yf),e.$4f=e.$Yf.getComparisonKey.bind(e.$Yf),e.$5f=e.$Yf.basenameOrAuthority.bind(e.$Yf),e.$6f=e.$Yf.basename.bind(e.$Yf),e.$7f=e.$Yf.extname.bind(e.$Yf),e.$8f=e.$Yf.dirname.bind(e.$Yf),e.$9f=e.$Yf.joinPath.bind(e.$Yf),e.$0f=e.$Yf.normalizePath.bind(e.$Yf),e.$$f=e.$Yf.relativePath.bind(e.$Yf),e.$_f=e.$Yf.resolvePath.bind(e.$Yf),e.$ag=e.$Yf.isAbsolutePath.bind(e.$Yf),e.$bg=e.$Yf.isEqualAuthority.bind(e.$Yf),e.$cg=e.$Yf.hasTrailingPathSeparator.bind(e.$Yf),e.$dg=e.$Yf.removeTrailingPathSeparator.bind(e.$Yf),e.$eg=e.$Yf.addTrailingPathSeparator.bind(e.$Yf);function b(F,s){const c=[];for(let n=0;n<F.length;n++){const a=s(F[n]);F.some((d,o)=>o===n?!1:(0,e.$3f)(a,s(d)))||c.push(F[n])}return c}e.$fg=b;var B;(function(F){F.META_DATA_LABEL="label",F.META_DATA_DESCRIPTION="description",F.META_DATA_SIZE="size",F.META_DATA_MIME="mime";function s(c){const n=new Map;c.path.substring(c.path.indexOf(";")+1,c.path.lastIndexOf(";")).split(";").forEach(o=>{const[U,_]=o.split(":");U&&_&&n.set(U,_)});const d=c.path.substring(0,c.path.indexOf(";"));return d&&n.set(F.META_DATA_MIME,d),n}F.parseMetaData=s})(B||(e.DataUri=B={}));function z(F,s,c){if(s){let n=F.path;return n&&n[0]!==A.$5c.sep&&(n=A.$5c.sep+n),F.with({scheme:c,authority:s,path:n})}return F.with({scheme:c})}e.$gg=z}),define(se[8],re([0,1,14,13,18,19,7,2,11]),function(x,e,C,M,A,P,y,j,Y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Sg=e.$Rg=e.$Qg=e.Promises=e.$Pg=e.$Og=e.$Ng=e.$Mg=e.$Lg=e.$Kg=e.$Jg=e.$Ig=e.$Hg=e.$Gg=e.$Fg=e.$Eg=e.$Dg=e.$Cg=e.$Bg=e.$Ag=e.$zg=e.$yg=e.$xg=e.$wg=e.$vg=e.$ug=e.$tg=e.$sg=e.$rg=e.$qg=e.$pg=e.$og=e.$ng=e.$mg=e.$lg=e.$kg=e.$jg=e.$ig=e.$hg=void 0;function m(l){return!!l&&typeof l.then=="function"}e.$hg=m;function b(l){const t=new C.$oc,i=l(t.token),u=new Promise((g,T)=>{const G=t.token.onCancellationRequested(()=>{G.dispose(),t.dispose(),T(new M.$3)});Promise.resolve(i).then(ne=>{G.dispose(),t.dispose(),g(ne)},ne=>{G.dispose(),t.dispose(),T(ne)})});return new class{cancel(){t.cancel()}then(g,T){return u.then(g,T)}catch(g){return this.then(void 0,g)}finally(g){return u.finally(g)}}}e.$ig=b;function B(l,t,i){return new Promise((u,g)=>{const T=t.onCancellationRequested(()=>{T.dispose(),u(i)});l.then(u,g).finally(()=>T.dispose())})}e.$jg=B;function z(l,t){return new Promise((i,u)=>{const g=t.onCancellationRequested(()=>{g.dispose(),u(new M.$3)});l.then(i,u).finally(()=>g.dispose())})}e.$kg=z;async function F(l){let t=-1;const i=l.map((u,g)=>u.then(T=>(t=g,T)));try{return await Promise.race(i)}finally{l.forEach((u,g)=>{g!==t&&u.cancel()})}}e.$lg=F;function s(l,t,i){let u;const g=setTimeout(()=>{u?.(void 0),i?.()},t);return Promise.race([l.finally(()=>clearTimeout(g)),new Promise(T=>u=T)])}e.$mg=s;function c(l){return new Promise((t,i)=>{const u=l();m(u)?u.then(t,i):t(u)})}e.$ng=c;class n{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(t){if(this.f)throw new Error("Throttler is disposed");if(this.a){if(this.d=t,!this.b){const i=()=>{if(this.b=null,this.f)return;const u=this.queue(this.d);return this.d=null,u};this.b=new Promise(u=>{this.a.then(i,i).then(u)})}return new Promise((i,u)=>{this.b.then(i,u)})}return this.a=t(),new Promise((i,u)=>{this.a.then(g=>{this.a=null,i(g)},g=>{this.a=null,u(g)})})}dispose(){this.f=!0}}e.$og=n;class a{constructor(){this.a=Promise.resolve(null)}queue(t){return this.a=this.a.then(()=>t(),()=>t())}}e.$pg=a;class d{constructor(){this.a=new Map}queue(t,i){const g=(this.a.get(t)??Promise.resolve()).catch(()=>{}).then(i).finally(()=>{this.a.get(t)===g&&this.a.delete(t)});return this.a.set(t,g),g}}e.$qg=d;const o=(l,t)=>{let i=!0;const u=setTimeout(()=>{i=!1,t()},l);return{isTriggered:()=>i,dispose:()=>{clearTimeout(u),i=!1}}},U=l=>{let t=!0;return queueMicrotask(()=>{t&&(t=!1,l())}),{isTriggered:()=>t,dispose:()=>{t=!1}}};class _{constructor(t){this.defaultDelay=t,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(t,i=this.defaultDelay){this.g=t,this.h(),this.b||(this.b=new Promise((g,T)=>{this.d=g,this.f=T}).then(()=>{if(this.b=null,this.d=null,this.g){const g=this.g;return this.g=null,g()}}));const u=()=>{this.a=null,this.d?.(null)};return this.a=i===Y.$bc?U(u):o(i,u),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new M.$3),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}e.$rg=_;class E{constructor(t){this.a=new _(t),this.b=new n}trigger(t,i){return this.a.trigger(()=>this.b.queue(t),i)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}e.$sg=E;class N{constructor(){this.a=!1,this.b=new Promise((t,i)=>{this.d=t})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}e.$tg=N;class L extends N{constructor(t){super(),this.f=setTimeout(()=>this.open(),t)}open(){clearTimeout(this.f),super.open()}}e.$ug=L;function X(l,t){return t?new Promise((i,u)=>{const g=setTimeout(()=>{T.dispose(),i()},l),T=t.onCancellationRequested(()=>{clearTimeout(g),T.dispose(),u(new M.$3)})}):b(i=>X(l,i))}e.$vg=X;function Z(l,t=0){const i=setTimeout(l,t);return(0,P.$jb)(()=>clearTimeout(i))}e.$wg=Z;function r(l){const t=[];let i=0;const u=l.length;function g(){return i<u?l[i++]():null}function T(G){G!=null&&t.push(G);const ne=g();return ne?ne.then(T):Promise.resolve(t)}return Promise.resolve(null).then(T)}e.$xg=r;function $(l,t=u=>!!u,i=null){let u=0;const g=l.length,T=()=>{if(u>=g)return Promise.resolve(i);const G=l[u++];return Promise.resolve(G()).then(ce=>t(ce)?Promise.resolve(ce):T())};return T()}e.$yg=$;function D(l,t=u=>!!u,i=null){if(l.length===0)return Promise.resolve(i);let u=l.length;const g=()=>{u=-1;for(const T of l)T.cancel?.()};return new Promise((T,G)=>{for(const ne of l)ne.then(ce=>{--u>=0&&t(ce)?(g(),T(ce)):u===0&&T(i)}).catch(ce=>{--u>=0&&(g(),G(ce))})})}e.$zg=D;class q{constructor(t){this.a=0,this.d=t,this.f=[],this.b=0,this.g=new A.$ec}get onDrained(){return this.g.event}get size(){return this.a}queue(t){return this.a++,new Promise((i,u)=>{this.f.push({factory:t,c:i,e:u}),this.h()})}h(){for(;this.f.length&&this.b<this.d;){const t=this.f.shift();this.b++;const i=t.factory();i.then(t.c,t.e),i.then(()=>this.j(),()=>this.j())}}j(){this.a--,this.b--,this.f.length>0?this.h():this.g.fire()}dispose(){this.g.dispose()}}e.$Ag=q;class K extends q{constructor(){super(1)}}e.$Bg=K;class W{constructor(){this.a=new h,this.b=0}queue(t){return this.a.isRunning()?this.a.queue(()=>this.a.run(this.b++,t())):this.a.run(this.b++,t())}}e.$Cg=W;class V{constructor(){this.a=new Map,this.b=new Set}async whenDrained(){if(this.d())return;const t=new k;return this.b.add(t),t.p}d(){for(const[,t]of this.a)if(t.size>0)return!1;return!0}queueFor(t,i=y.$Yf){const u=i.getComparisonKey(t);let g=this.a.get(u);return g||(g=new K,A.Event.once(g.onDrained)(()=>{g?.dispose(),this.a.delete(u),this.f()}),this.a.set(u,g)),g}f(){this.d()&&this.g()}g(){for(const t of this.b)t.complete();this.b.clear()}dispose(){for(const[,t]of this.a)t.dispose();this.a.clear(),this.g()}}e.$Dg=V;class ie{constructor(t,i){this.a=-1,typeof t=="function"&&typeof i=="number"&&this.setIfNotSet(t,i)}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(t,i){this.cancel(),this.a=setTimeout(()=>{this.a=-1,t()},i)}setIfNotSet(t,i){this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,t()},i))}}e.$Eg=ie;class ee{constructor(){this.a=-1}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearInterval(this.a),this.a=-1)}cancelAndSet(t,i){this.cancel(),this.a=setInterval(()=>{t()},i)}}e.$Fg=ee;class p{constructor(t,i){this.b=-1,this.a=t,this.d=i,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(t=this.d){this.cancel(),this.b=setTimeout(this.f,t)}get delay(){return this.d}set delay(t){this.d=t}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}e.$Gg=p;class le{constructor(t,i){i%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${i}ms is not a multiple of 1000ms.`),this.a=t,this.b=i,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(t=this.b){t%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${t}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(t/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}e.$Hg=le;class H extends p{constructor(t,i){super(t,i),this.j=[]}work(t){this.j.push(t),this.isScheduled()||this.schedule()}h(){const t=this.j;this.j=[],this.a?.(t)}dispose(){this.j=[],super.dispose()}}e.$Ig=H;class Q extends P.$lb{constructor(t,i){super(),this.g=t,this.h=i,this.a=[],this.b=this.B(new P.$mb),this.f=!1}get pending(){return this.a.length}work(t){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+t.length>this.g.maxBufferedWork)return!1}else if(this.pending+t.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const i of t)this.a.push(i);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new p(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}e.$Jg=Q,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.$Kg=l=>{(0,j.$A)(()=>{if(t)return;const i=Date.now()+15;l(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,i-Date.now())}}))});let t=!1;return{dispose(){t||(t=!0)}}}:e.$Kg=(l,t)=>{const i=requestIdleCallback(l,typeof t=="number"?{timeout:t}:void 0);let u=!1;return{dispose(){u||(u=!0,cancelIdleCallback(i))}}}}();class J{constructor(t){this.d=!1,this.a=()=>{try{this.f=t()}catch(i){this.g=i}finally{this.d=!0}},this.b=(0,e.$Kg)(()=>this.a())}dispose(){this.b.dispose()}get value(){if(this.d||(this.b.dispose(),this.a()),this.g)throw this.g;return this.f}get isInitialized(){return this.d}}e.$Lg=J;async function te(l,t,i){let u;for(let g=0;g<i;g++)try{return await l()}catch(T){u=T,await X(t)}throw u}e.$Mg=te;class h{isRunning(t){return typeof t=="number"?this.a?.taskId===t:!!this.a}get running(){return this.a?.promise}cancelRunning(){this.a?.cancel()}run(t,i,u){return this.a={taskId:t,cancel:()=>u?.(),promise:i},i.then(()=>this.d(t),()=>this.d(t)),i}d(t){this.a&&t===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const t=this.b;this.b=void 0,t.run().then(t.promiseResolve,t.promiseReject)}}queue(t){if(this.b)this.b.run=t;else{let i,u;const g=new Promise((T,G)=>{i=T,u=G});this.b={run:t,promise:g,promiseResolve:i,promiseReject:u}}return this.b.promise}hasQueued(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}e.$Ng=h;class v{constructor(t,i=()=>Date.now()){this.d=t,this.f=i,this.a=0,this.b=0}increment(){const t=this.f();return t-this.a>this.d&&(this.a=t,this.b=0),this.b++,this.b}}e.$Og=v;var f;(function(l){l[l.Resolved=0]="Resolved",l[l.Rejected=1]="Rejected"})(f||(f={}));class k{get isRejected(){return this.d?.outcome===1}get isResolved(){return this.d?.outcome===0}get isSettled(){return!!this.d}get value(){return this.d?.outcome===0?this.d?.value:void 0}constructor(){this.p=new Promise((t,i)=>{this.a=t,this.b=i})}complete(t){return new Promise(i=>{this.a(t),this.d={outcome:0,value:t},i()})}error(t){return new Promise(i=>{this.b(t),this.d={outcome:1,value:t},i()})}cancel(){return this.error(new M.$3)}}e.$Pg=k;var R;(function(l){async function t(u){let g;const T=await Promise.all(u.map(G=>G.then(ne=>ne,ne=>{g||(g=ne)})));if(typeof g<"u")throw g;return T}l.settled=t;function i(u){return new Promise(async(g,T)=>{try{await u(g,T)}catch(G){T(G)}})}l.withAsyncBody=i})(R||(e.Promises=R={}));var I;(function(l){l[l.Initial=0]="Initial",l[l.DoneOK=1]="DoneOK",l[l.DoneError=2]="DoneError"})(I||(I={}));class S{static fromArray(t){return new S(i=>{i.emitMany(t)})}static fromPromise(t){return new S(async i=>{i.emitMany(await t)})}static fromPromises(t){return new S(async i=>{await Promise.all(t.map(async u=>i.emitOne(await u)))})}static merge(t){return new S(async i=>{await Promise.all(t.map(async u=>{for await(const g of u)i.emitOne(g)}))})}static{this.EMPTY=S.fromArray([])}constructor(t){this.a=0,this.b=[],this.d=null,this.f=new A.$ec,queueMicrotask(async()=>{const i={emitOne:u=>this.g(u),emitMany:u=>this.h(u),reject:u=>this.k(u)};try{await Promise.resolve(t(i)),this.j()}catch(u){this.k(u)}finally{i.emitOne=void 0,i.emitMany=void 0,i.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:async()=>{do{if(this.a===2)throw this.d;if(t<this.b.length)return{done:!1,value:this.b[t++]};if(this.a===1)return{done:!0,value:void 0};await A.Event.toPromise(this.f.event)}while(!0)}}}static map(t,i){return new S(async u=>{for await(const g of t)u.emitOne(i(g))})}map(t){return S.map(this,t)}static filter(t,i){return new S(async u=>{for await(const g of t)i(g)&&u.emitOne(g)})}filter(t){return S.filter(this,t)}static coalesce(t){return S.filter(t,i=>!!i)}coalesce(){return S.coalesce(this)}static async toPromise(t){const i=[];for await(const u of t)i.push(u);return i}toPromise(){return S.toPromise(this)}g(t){this.a===0&&(this.b.push(t),this.f.fire())}h(t){this.a===0&&(this.b=this.b.concat(t),this.f.fire())}j(){this.a===0&&(this.a=1,this.f.fire())}k(t){this.a===0&&(this.a=2,this.d=t,this.f.fire())}}e.$Qg=S;class w extends S{constructor(t,i){super(i),this.l=t}cancel(){this.l.cancel()}}e.$Rg=w;function O(l){const t=new C.$oc,i=l(t.token);return new w(t,async u=>{const g=t.token.onCancellationRequested(()=>{g.dispose(),t.dispose(),u.reject(new M.$3)});try{for await(const T of i){if(t.token.isCancellationRequested)return;u.emitOne(T)}g.dispose(),t.dispose()}catch(T){g.dispose(),t.dispose(),u.reject(T)}})}e.$Sg=O}),define(se[9],re([0,1,20,8,5,10,3,2,4]),function(x,e,C,M,A,P,y,j,Y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ij=e.$hj=e.$gj=e.$fj=e.$ej=e.$dj=e.$cj=e.$bj=e.$aj=e.$_i=void 0;function m(){return Object.create(null)}e.$_i=m,e.$aj="**",e.$bj="/";const b="[/\\\\]",B="[^/\\\\]",z=/\//g;function F(h,v){switch(h){case 0:return"";case 1:return`${B}*?`;default:return`(?:${b}|${B}+${b}${v?`|${b}${B}+`:""})*?`}}function s(h,v){if(!h)return[];const f=[];let k=!1,R=!1,I="";for(const S of h){switch(S){case v:if(!k&&!R){f.push(I),I="";continue}break;case"{":k=!0;break;case"}":k=!1;break;case"[":R=!0;break;case"]":R=!1;break}I+=S}return I&&f.push(I),f}e.$cj=s;function c(h){if(!h)return"";let v="";const f=s(h,e.$bj);if(f.every(k=>k===e.$aj))v=".*";else{let k=!1;f.forEach((R,I)=>{if(R===e.$aj){if(k)return;v+=F(2,I===f.length-1)}else{let S=!1,w="",O=!1,l="";for(const t of R){if(t!=="}"&&S){w+=t;continue}if(O&&(t!=="]"||!l)){let i;t==="-"?i=t:(t==="^"||t==="!")&&!l?i="^":t===e.$bj?i="":i=(0,Y.$pd)(t),l+=i;continue}switch(t){case"{":S=!0;continue;case"[":O=!0;continue;case"}":{const u=`(?:${s(w,",").map(g=>c(g)).join("|")})`;v+=u,S=!1,w="";break}case"]":{v+="["+l+"]",O=!1,l="";break}case"?":v+=B;continue;case"*":v+=F(1);continue;default:v+=(0,Y.$pd)(t)}}I<f.length-1&&(f[I+1]!==e.$aj||I+2<f.length)&&(v+=b)}k=R===e.$aj})}return v}const n=/^\*\*\/\*\.[\w\.-]+$/,a=/^\*\*\/([\w\.-]+)\/?$/,d=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,o=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,U=/^\*\*((\/[\w\.-]+)+)\/?$/,_=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,E=new P.$qi(1e4),N=function(){return!1},L=function(){return null};function X(h,v){if(!h)return L;let f;typeof h!="string"?f=h.pattern:f=h,f=f.trim();const k=`${f}_${!!v.trimForExclusions}`;let R=E.get(k);if(R)return Z(R,h);let I;return n.test(f)?R=$(f.substr(4),f):(I=a.exec(r(f,v)))?R=D(I[1],f):(v.trimForExclusions?o:d).test(f)?R=q(f,v):(I=U.exec(r(f,v)))?R=K(I[1].substr(1),f,!0):(I=_.exec(r(f,v)))?R=K(I[1],f,!1):R=W(f),E.set(k,R),Z(R,h)}function Z(h,v){if(typeof v=="string")return h;const f=function(k,R){return(0,A.$He)(k,v.base,!j.$k)?h((0,Y.$td)(k.substr(v.base.length),y.sep),R):null};return f.allBasenames=h.allBasenames,f.allPaths=h.allPaths,f.basenames=h.basenames,f.patterns=h.patterns,f}function r(h,v){return v.trimForExclusions&&h.endsWith("/**")?h.substr(0,h.length-2):h}function $(h,v){return function(f,k){return typeof f=="string"&&f.endsWith(h)?v:null}}function D(h,v){const f=`/${h}`,k=`\\${h}`,R=function(S,w){return typeof S!="string"?null:w?w===h?v:null:S===h||S.endsWith(f)||S.endsWith(k)?v:null},I=[h];return R.basenames=I,R.patterns=[v],R.allBasenames=I,R}function q(h,v){const f=J(h.slice(1,-1).split(",").map(w=>X(w,v)).filter(w=>w!==L),h),k=f.length;if(!k)return L;if(k===1)return f[0];const R=function(w,O){for(let l=0,t=f.length;l<t;l++)if(f[l](w,O))return h;return null},I=f.find(w=>!!w.allBasenames);I&&(R.allBasenames=I.allBasenames);const S=f.reduce((w,O)=>O.allPaths?w.concat(O.allPaths):w,[]);return S.length&&(R.allPaths=S),R}function K(h,v,f){const k=y.sep===y.$5c.sep,R=k?h:h.replace(z,y.sep),I=y.sep+R,S=y.$5c.sep+h;let w;return f?w=function(O,l){return typeof O=="string"&&(O===R||O.endsWith(I)||!k&&(O===h||O.endsWith(S)))?v:null}:w=function(O,l){return typeof O=="string"&&(O===R||!k&&O===h)?v:null},w.allPaths=[(f?"*/":"./")+h],w}function W(h){try{const v=new RegExp(`^${c(h)}$`);return function(f){return v.lastIndex=0,typeof f=="string"&&v.test(f)?h:null}}catch{return L}}function V(h,v,f){return!h||typeof v!="string"?!1:ie(h)(v,void 0,f)}e.$dj=V;function ie(h,v={}){if(!h)return N;if(typeof h=="string"||ee(h)){const f=X(h,v);if(f===L)return N;const k=function(R,I){return!!f(R,I)};return f.allBasenames&&(k.allBasenames=f.allBasenames),f.allPaths&&(k.allPaths=f.allPaths),k}return H(h,v)}e.$ej=ie;function ee(h){const v=h;return v?typeof v.base=="string"&&typeof v.pattern=="string":!1}e.$fj=ee;function p(h){return h.allBasenames||[]}e.$gj=p;function le(h){return h.allPaths||[]}e.$hj=le;function H(h,v){const f=J(Object.getOwnPropertyNames(h).map(w=>Q(w,h[w],v)).filter(w=>w!==L)),k=f.length;if(!k)return L;if(!f.some(w=>!!w.requiresSiblings)){if(k===1)return f[0];const w=function(t,i){let u;for(let g=0,T=f.length;g<T;g++){const G=f[g](t,i);if(typeof G=="string")return G;(0,M.$hg)(G)&&(u||(u=[]),u.push(G))}return u?(async()=>{for(const g of u){const T=await g;if(typeof T=="string")return T}return null})():null},O=f.find(t=>!!t.allBasenames);O&&(w.allBasenames=O.allBasenames);const l=f.reduce((t,i)=>i.allPaths?t.concat(i.allPaths):t,[]);return l.length&&(w.allPaths=l),w}const R=function(w,O,l){let t,i;for(let u=0,g=f.length;u<g;u++){const T=f[u];T.requiresSiblings&&l&&(O||(O=(0,y.$_c)(w)),t||(t=O.substr(0,O.length-(0,y.$ad)(w).length)));const G=T(w,O,t,l);if(typeof G=="string")return G;(0,M.$hg)(G)&&(i||(i=[]),i.push(G))}return i?(async()=>{for(const u of i){const g=await u;if(typeof g=="string")return g}return null})():null},I=f.find(w=>!!w.allBasenames);I&&(R.allBasenames=I.allBasenames);const S=f.reduce((w,O)=>O.allPaths?w.concat(O.allPaths):w,[]);return S.length&&(R.allPaths=S),R}function Q(h,v,f){if(v===!1)return L;const k=X(h,f);if(k===L)return L;if(typeof v=="boolean")return k;if(v){const R=v.when;if(typeof R=="string"){const I=(S,w,O,l)=>{if(!l||!k(S,w))return null;const t=R.replace("$(basename)",()=>O),i=l(t);return(0,M.$hg)(i)?i.then(u=>u?h:null):i?h:null};return I.requiresSiblings=!0,I}}return k}function J(h,v){const f=h.filter(w=>!!w.basenames);if(f.length<2)return h;const k=f.reduce((w,O)=>{const l=O.basenames;return l?w.concat(l):w},[]);let R;if(v){R=[];for(let w=0,O=k.length;w<O;w++)R.push(v)}else R=f.reduce((w,O)=>{const l=O.patterns;return l?w.concat(l):w},[]);const I=function(w,O){if(typeof w!="string")return null;if(!O){let t;for(t=w.length;t>0;t--){const i=w.charCodeAt(t-1);if(i===47||i===92)break}O=w.substr(t)}const l=k.indexOf(O);return l!==-1?R[l]:null};I.basenames=k,I.patterns=R,I.allBasenames=k;const S=h.filter(w=>!w.basenames);return S.push(I),S}function te(h,v){return(0,C.$$e)(h,v,(f,k)=>typeof f=="string"&&typeof k=="string"?f===k:typeof f!="string"&&typeof k!="string"?f.base===k.base&&f.pattern===k.pattern:!1)}e.$ij=te}),define(se[15],re([0,1,21]),function(x,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$wfc=void 0;const M=(A,P,y)=>{let j;if(A[0]===255&&A[1]===254)j=new TextDecoder("utf-16le").decode(A);else if(A[0]===254&&A[1]===255)j=new TextDecoder("utf-16be").decode(A);else if(j=new TextDecoder("utf8").decode(A),j.slice(0,1e3).includes("\uFFFD")&&A.includes(0))return[];const Y=[],m=[];let b=null,B=y.remainingResultQuota;for(;B>=0&&(b=P.exec(j));)m.push({matchStartIndex:b.index,matchedText:b[0]}),B--;if(m.length){const z=new Set,F=new Set,s=[],c=U=>j.slice(s[U].start,s[U].end);let n=0,a=null;const d=/\r?\n/g;for(;a=d.exec(j);)s.push({start:n,end:a.index}),n=a.index+a[0].length;n<j.length&&s.push({start:n,end:j.length});let o=0;for(const{matchStartIndex:U,matchedText:_}of m){if(B<0)break;for(;s[o+1]&&U>s[o].end;)o++;let E=o;for(;s[E+1]&&U+_.length>s[E].end;)E++;if(y.beforeContext)for(let $=Math.max(0,o-y.beforeContext);$<o;$++)z.add($);let N="",L=0;for(let $=o;$<=E;$++){let D=c($);y.previewOptions?.charsPerLine&&D.length>y.previewOptions.charsPerLine&&(L=Math.max(U-s[o].start-20,0),D=D.substr(L,y.previewOptions.charsPerLine)),N+=`${D}
`,F.add($)}const X=new C.$Ur(o,U-s[o].start,E,U+_.length-s[E].start),Z=new C.$Ur(0,U-s[o].start-L,E-o,U+_.length-s[E].start-(E===o?L:0)),r={ranges:X,preview:{text:N,matches:Z}};if(Y.push(r),y.afterContext)for(let $=E+1;$<=Math.min(E+y.afterContext,s.length-1);$++)z.add($)}for(const U of z)F.has(U)||Y.push({text:c(U),lineNumber:U+1})}return Y};e.$wfc=M}),define(se[16],re([0,1,9]),function(x,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$wHb=void 0;class M{constructor(P,y,j){if(this.b=y,this.c=j,y[y.length-1]==="\\")throw Error("Unexpected path format, do not use trailing backslashes");y[y.length-1]!=="/"&&(y+="/"),this.a=this.e(P,this.b,this.c)}updateContents(P){this.a=this.e(P,this.b,this.c)}isPathIncludedInTraversal(P,y){if(P[0]!=="/"||P[P.length-1]==="/")throw Error("Unexpected path format, expectred to begin with slash and end without. got:"+P);return!this.a(P,y)}isArbitraryPathIgnored(P,y){if(P[0]!=="/"||P[P.length-1]==="/")throw Error("Unexpected path format, expectred to begin with slash and end without. got:"+P);const j=P.split("/").filter(b=>b);let Y=!1,m="";for(let b=0;b<j.length;b++){const B=b===j.length-1,z=j[b];if(m=m+"/"+z,!this.isPathIncludedInTraversal(m,B?y:!0)){Y=!0;break}}return Y}d(P,y,j){const Y=P.map(b=>this.f(b,y)),m=Object.create(null);for(const b of Y)m[b]=!0;return C.$ej(m,{trimForExclusions:j})}e(P,y,j){const Y=P.split(`
`).map(o=>o.trim()).filter(o=>o&&o[0]!=="#"),m=Y.filter(o=>!o.endsWith("/")),b=m.filter(o=>!o.includes("!")),B=this.d(b,y,!0),z=m.filter(o=>o.includes("!")).map(o=>o.replace(/!/g,"")),F=this.d(z,y,!1),s=Y.filter(o=>!o.includes("!")),c=this.d(s,y,!0),n=Y.filter(o=>o.includes("!")).map(o=>o.replace(/!/g,"")),a=this.d(n,y,!1);return(o,U)=>o.startsWith(y)?U&&c(o)&&!a(o)||B(o)&&!F(o)?!0:j?j.a(o,U):!1:!1}f(P,y){const j=P.indexOf("/");return j===-1||j===P.length-1?P="**/"+P:(j===0?y.slice(-1)==="/"&&(P=P.slice(1)):y.slice(-1)!=="/"&&(P="/"+P),P=y+P),P}}e.$wHb=M}),define(se[22],re([0,1,9,6,3,14,15,16,4,8,7]),function(x,e,C,M,A,P,y,j,Y,m,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalFileSearchSimpleWorker=e.create=void 0;const B=!1,z=+new Date,F={},s=async(E,N)=>{if(!B)return N();const L=Date.now(),X=(F[E]??0)+1;console.info(E,X,"starting",Math.round((L-z)*10)/1e4),F[E]=X;const Z=await N(),r=Date.now();return console.info(E,X,"took",r-L),Z};function c(E){return new n(E)}e.create=c;class n{constructor(N){this.d=N,this.cancellationTokens=new Map}cancelQuery(N){this.cancellationTokens.get(N)?.cancel()}g(N){const L=new P.$oc;return this.cancellationTokens.set(N,L),L}async listDirectory(N,L,X,Z,r){const $=d(X),D=new b.$Xf(()=>Z),q=this.g(r),K=[];let W=!1,V=0;const ie=L.maxResults||512,ee=L.filePattern?p=>L.filePattern.split("").every(le=>p.includes(le)):p=>!0;return await s("listDirectory",()=>this.h(N,o(L),$,D,p=>{if(ee(p.name))return V++,ie&&V>ie&&(W=!0,q.cancel()),K.push(p.path)},q.token)),{results:K,limitHit:W}}async searchDirectory(N,L,X,Z,r){const $=d(X),D=new b.$Xf(()=>Z);return s("searchInFiles",async()=>{const q=this.g(r),K=[],W=a(L.contentPattern),V=[];let ie=0,ee=0;const p=!1,le=async H=>{if(q.token.isCancellationRequested)return;ie++;const Q=await H.resolve();if(q.token.isCancellationRequested)return;const J=new Uint8Array(Q),te=(0,y.$wfc)(J,W,{afterContext:L.afterContext??0,beforeContext:L.beforeContext??0,previewOptions:L.previewOptions,remainingResultQuota:L.maxResults?L.maxResults-ee:1e4});if(te.length){ee+=te.length,L.maxResults&&ee>L.maxResults&&q.cancel();const h={resource:M.URI.joinPath($.folder,H.path),results:te};this.d.sendTextSearchMatch(h,r),K.push(h)}};return await s("walkFolderToResolve",()=>this.h(N,o(L),$,D,async H=>V.push(le(H)),q.token)),await s("resolveOngoingProcesses",()=>Promise.all(V)),B&&console.log("Searched in",ie,"files"),{results:K,limitHit:p}})}async h(N,L,X,Z,r,$){const D=C.$ej(X.excludePattern??{},{trimForExclusions:!0}),q=(H,Q,J)=>(H=H.slice(1),!!(D(H,Q,J)||U(L,H))),K=(H,Q,J)=>(H=H.slice(1),!(D(H,Q,J)||!_(L,H,Z))),W=(H,Q)=>({type:"file",name:H.name,path:Q,resolve:()=>H.getFile().then(te=>te.arrayBuffer())}),V=H=>H.kind==="directory",ie=H=>H.kind==="file",ee=async(H,Q,J)=>{if(!X.disregardIgnoreFiles){const h=await Promise.all([H.getFileHandle(".gitignore").catch(v=>{}),H.getFileHandle(".ignore").catch(v=>{})]);await Promise.all(h.map(async v=>{if(!v)return;const f=new TextDecoder("utf8").decode(new Uint8Array(await(await v.getFile()).arrayBuffer()));J=new j.$wHb(f,Q,J)}))}const te=m.Promises.withAsyncBody(async h=>{const v=[],f=[],k=[],R=new Set;for await(const I of H.entries())k.push(I),R.add(I[0]);for(const[I,S]of k){if($.isCancellationRequested)break;const w=Q+I;if(J&&!J.isPathIncludedInTraversal(w,S.kind==="directory"))continue;const O=l=>R.has(l);V(S)&&!q(w,I,O)?f.push(ee(S,w+"/",J)):ie(S)&&K(w,I,O)&&v.push(W(S,w))}h([...await Promise.all(f),...v])});return{type:"dir",name:H.name,entries:te}},p=async(H,Q)=>{$.isCancellationRequested||await Promise.all((await H.entries).sort((J,te)=>-(J.type==="dir"?0:1)+(te.type==="dir"?0:1)).map(async J=>J.type==="dir"?p(J,Q):Q(J)))},le=await s("process",()=>ee(N,"/"));await s("resolve",()=>p(le,r))}}e.LocalFileSearchSimpleWorker=n;function a(E){return(0,Y.$xd)(E.pattern,!!E.isRegExp,{wholeWord:E.isWordMatch,global:!0,matchCase:E.isCaseSensitive,multiline:!0,unicode:!0})}function d(E){return{...E,folder:M.URI.revive(E.folder)}}function o(E){return{...E,extraFileResources:E.extraFileResources?.map(N=>M.URI.revive(N)),folderQueries:E.folderQueries.map(N=>d(N))}}function U(E,N){return!!(E.excludePattern&&C.$dj(E.excludePattern,N))}function _(E,N,L){return E.excludePattern&&C.$dj(E.excludePattern,N)?!1:E.includePattern||E.usingSearchPaths?E.includePattern&&C.$dj(E.includePattern,N)?!0:E.usingSearchPaths?!!E.folderQueries&&E.folderQueries.some(X=>{const Z=X.folder,r=M.URI.file(N);if(L.isEqualOrParent(r,Z)){const $=A.$0c(Z.path,r.path);return!X.includePattern||!!C.$dj(X.includePattern,$)}else return!1}):!1:!0}})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/8b617bd08fd9e3fc94d14adb8d358b56e3f72314/core/vs/workbench/services/search/worker/localFileSearch.js.map
