"use strict";/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var rt=["require","exports","vs/base/common/platform","vs/base/common/strings","vs/base/common/errors","vs/base/common/path","vs/base/common/buffer","vs/base/common/lifecycle","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/core/range","vs/base/common/extpath","vs/base/common/network","vs/base/common/uri","vs/base/common/map","vs/base/common/stream","vs/base/common/symbols","vs/editor/common/core/eolCounter","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model","vs/editor/common/model/textModelSearch","vs/base/common/mime","vs/base/common/resources","vs/base/common/async","vs/base/common/event","vs/base/common/glob","vs/editor/common/core/stringBuilder","vs/editor/common/core/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls","vs/nls!vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/nls!vs/platform/contextkey/common/scanner","vs/platform/contextkey/common/scanner","vs/platform/instantiation/common/instantiation","vs/platform/contextkey/common/contextkey","vs/workbench/contrib/notebook/common/notebookCommon","vs/base/common/lazy","vs/editor/common/core/position","vs/base/common/types","vs/base/common/cancellation","vs/base/common/arrays","vs/base/common/iterator","vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/base/common/diff/diff","vs/base/common/hash"],lt=function(st){for(var t=[],U=0,j=st.length;U<j;U++)t[U]=rt[st[U]];return t};define(rt[13],lt([0,1]),function(st,t){"use strict";var U,j,D;Object.defineProperty(t,"__esModule",{value:!0}),t.$ri=t.$qi=t.$pi=t.Touch=t.$oi=t.$ni=t.$mi=t.$li=t.$ki=void 0;function E(a,s,c){let e=a.get(s);return e===void 0&&(e=c,a.set(s,e)),e}t.$ki=E;function H(a){const s=[];return a.forEach((c,e)=>{s.push(`${e} => ${c}`)}),`Map(${a.size}) {${s.join(", ")}}`}t.$li=H;function V(a){const s=[];return a.forEach(c=>{s.push(c)}),`Set(${a.size}) {${s.join(", ")}}`}t.$mi=V;class I{constructor(s,c){this.uri=s,this.value=c}}class f{static{this.a=s=>s.toString()}constructor(s,c){this[U]="ResourceMap",s instanceof f?(this.b=new Map(s.b),this.c=c??f.a):(this.b=new Map,this.c=s??f.a)}set(s,c){return this.b.set(this.c(s),new I(s,c)),this}get(s){return this.b.get(this.c(s))?.value}has(s){return this.b.has(this.c(s))}get size(){return this.b.size}clear(){this.b.clear()}delete(s){return this.b.delete(this.c(s))}forEach(s,c){typeof c<"u"&&(s=s.bind(c));for(const[e,l]of this.b)s(l.value,l.uri,this)}*values(){for(const s of this.b.values())yield s.value}*keys(){for(const s of this.b.values())yield s.uri}*entries(){for(const s of this.b.values())yield[s.uri,s.value]}*[(U=Symbol.toStringTag,Symbol.iterator)](){for(const[,s]of this.b)yield[s.uri,s.value]}}t.$ni=f;class b{constructor(s,c){this[j]="ResourceSet",!s||typeof s=="function"?this.a=new f(s):(this.a=new f(c),s.forEach(this.add,this))}get size(){return this.a.size}add(s){return this.a.set(s,s),this}clear(){this.a.clear()}delete(s){return this.a.delete(s)}forEach(s,c){this.a.forEach((e,l)=>s.call(c,l,l,this))}has(s){return this.a.has(s)}entries(){return this.a.entries()}keys(){return this.a.keys()}values(){return this.a.keys()}[(j=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}}t.$oi=b;var k;(function(a){a[a.None=0]="None",a[a.AsOld=1]="AsOld",a[a.AsNew=2]="AsNew"})(k||(t.Touch=k={}));class ${constructor(){this[D]="LinkedMap",this.a=new Map,this.b=void 0,this.c=void 0,this.d=0,this.e=0}clear(){this.a.clear(),this.b=void 0,this.c=void 0,this.d=0,this.e++}isEmpty(){return!this.b&&!this.c}get size(){return this.d}get first(){return this.b?.value}get last(){return this.c?.value}has(s){return this.a.has(s)}get(s,c=0){const e=this.a.get(s);if(e)return c!==0&&this.j(e,c),e.value}set(s,c,e=0){let l=this.a.get(s);if(l)l.value=c,e!==0&&this.j(l,e);else{switch(l={key:s,value:c,next:void 0,previous:void 0},e){case 0:this.h(l);break;case 1:this.g(l);break;case 2:this.h(l);break;default:this.h(l);break}this.a.set(s,l),this.d++}return this}delete(s){return!!this.remove(s)}remove(s){const c=this.a.get(s);if(c)return this.a.delete(s),this.i(c),this.d--,c.value}shift(){if(!this.b&&!this.c)return;if(!this.b||!this.c)throw new Error("Invalid list");const s=this.b;return this.a.delete(s.key),this.i(s),this.d--,s.value}forEach(s,c){const e=this.e;let l=this.b;for(;l;){if(c?s.bind(c)(l.value,l.key,this):s(l.value,l.key,this),this.e!==e)throw new Error("LinkedMap got modified during iteration.");l=l.next}}keys(){const s=this,c=this.e;let e=this.b;const l={[Symbol.iterator](){return l},next(){if(s.e!==c)throw new Error("LinkedMap got modified during iteration.");if(e){const i={value:e.key,done:!1};return e=e.next,i}else return{value:void 0,done:!0}}};return l}values(){const s=this,c=this.e;let e=this.b;const l={[Symbol.iterator](){return l},next(){if(s.e!==c)throw new Error("LinkedMap got modified during iteration.");if(e){const i={value:e.value,done:!1};return e=e.next,i}else return{value:void 0,done:!0}}};return l}entries(){const s=this,c=this.e;let e=this.b;const l={[Symbol.iterator](){return l},next(){if(s.e!==c)throw new Error("LinkedMap got modified during iteration.");if(e){const i={value:[e.key,e.value],done:!1};return e=e.next,i}else return{value:void 0,done:!0}}};return l}[(D=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}f(s){if(s>=this.size)return;if(s===0){this.clear();return}let c=this.b,e=this.size;for(;c&&e>s;)this.a.delete(c.key),c=c.next,e--;this.b=c,this.d=e,c&&(c.previous=void 0),this.e++}g(s){if(!this.b&&!this.c)this.c=s;else if(this.b)s.next=this.b,this.b.previous=s;else throw new Error("Invalid list");this.b=s,this.e++}h(s){if(!this.b&&!this.c)this.b=s;else if(this.c)s.previous=this.c,this.c.next=s;else throw new Error("Invalid list");this.c=s,this.e++}i(s){if(s===this.b&&s===this.c)this.b=void 0,this.c=void 0;else if(s===this.b){if(!s.next)throw new Error("Invalid list");s.next.previous=void 0,this.b=s.next}else if(s===this.c){if(!s.previous)throw new Error("Invalid list");s.previous.next=void 0,this.c=s.previous}else{const c=s.next,e=s.previous;if(!c||!e)throw new Error("Invalid list");c.previous=e,e.next=c}s.next=void 0,s.previous=void 0,this.e++}j(s,c){if(!this.b||!this.c)throw new Error("Invalid list");if(!(c!==1&&c!==2)){if(c===1){if(s===this.b)return;const e=s.next,l=s.previous;s===this.c?(l.next=void 0,this.c=l):(e.previous=l,l.next=e),s.previous=void 0,s.next=this.b,this.b.previous=s,this.b=s,this.e++}else if(c===2){if(s===this.c)return;const e=s.next,l=s.previous;s===this.b?(e.previous=void 0,this.b=e):(e.previous=l,l.next=e),s.next=void 0,s.previous=this.c,this.c.next=s,this.c=s,this.e++}}}toJSON(){const s=[];return this.forEach((c,e)=>{s.push([e,c])}),s}fromJSON(s){this.clear();for(const[c,e]of s)this.set(c,e)}}t.$pi=$;class O extends ${constructor(s,c=1){super(),this.k=s,this.l=Math.min(Math.max(0,c),1)}get limit(){return this.k}set limit(s){this.k=s,this.m()}get ratio(){return this.l}set ratio(s){this.l=Math.min(Math.max(0,s),1),this.m()}get(s,c=2){return super.get(s,c)}peek(s){return super.get(s,0)}set(s,c){return super.set(s,c,2),this.m(),this}m(){this.size>this.k&&this.f(Math.round(this.k*this.l))}}t.$qi=O;class m{constructor(){this.a=new Map}add(s){return this.a.set(s,(this.a.get(s)||0)+1),this}delete(s){let c=this.a.get(s)||0;return c===0?!1:(c--,c===0?this.a.delete(s):this.a.set(s,c),!0)}has(s){return this.a.has(s)}}t.$ri=m}),define(rt[14],lt([0,1,4,7]),function(st,t,U,j){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Dc=t.$Cc=t.$Bc=t.$Ac=t.$zc=t.$yc=t.$xc=t.$wc=t.$vc=t.$uc=t.$tc=t.$sc=t.$rc=t.$qc=t.$pc=void 0;function D(i){const u=i;return u?typeof u.read=="function":!1}t.$pc=D;function E(i){const u=i;return u?[u.on,u.pause,u.resume,u.destroy].every(h=>typeof h=="function"):!1}t.$qc=E;function H(i){const u=i;return u?E(u.stream)&&Array.isArray(u.buffer)&&typeof u.ended=="boolean":!1}t.$rc=H;function V(i,u){return new I(i,u)}t.$sc=V;class I{constructor(u,h){this.e=u,this.f=h,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(u){if(!this.a.destroyed){if(this.a.flowing)this.g(u);else if(this.b.data.push(u),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(h=>this.d.push(h))}}error(u){this.a.destroyed||(this.a.flowing?this.h(u):this.b.error.push(u))}end(u){this.a.destroyed||(typeof u<"u"&&this.write(u),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(u){this.c.data.slice(0).forEach(h=>h(u))}h(u){this.c.error.length===0?(0,U.$Y)(u):this.c.error.slice(0).forEach(h=>h(u))}i(){this.c.end.slice(0).forEach(u=>u())}on(u,h){if(!this.a.destroyed)switch(u){case"data":this.c.data.push(h),this.resume();break;case"end":this.c.end.push(h),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(h),this.a.flowing&&this.k();break}}removeListener(u,h){if(this.a.destroyed)return;let p;switch(u){case"data":p=this.c.data;break;case"end":p=this.c.end;break;case"error":p=this.c.error;break}if(p){const L=p.indexOf(h);L>=0&&p.splice(L,1)}}j(){if(this.b.data.length>0){const u=this.e(this.b.data);this.g(u),this.b.data.length=0;const h=[...this.d];this.d.length=0,h.forEach(p=>p())}}k(){if(this.c.error.length>0){for(const u of this.b.error)this.h(u);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function f(i,u){const h=[];let p;for(;(p=i.read())!==null;)h.push(p);return u(h)}t.$tc=f;function b(i,u,h){const p=[];let L;for(;(L=i.read())!==null&&p.length<h;)p.push(L);return L===null&&p.length>0?u(p):{read:()=>{if(p.length>0)return p.shift();if(typeof L<"u"){const S=L;return L=void 0,S}return i.read()}}}t.$uc=b;function k(i,u){return new Promise((h,p)=>{const L=[];$(i,{onData:S=>{u&&L.push(S)},onError:S=>{u?p(S):h(void 0)},onEnd:()=>{h(u?u(L):void 0)}})})}t.$vc=k;function $(i,u,h){i.on("error",p=>{h?.isCancellationRequested||u.onError(p)}),i.on("end",()=>{h?.isCancellationRequested||u.onEnd()}),i.on("data",p=>{h?.isCancellationRequested||u.onData(p)})}t.$wc=$;function O(i,u){return new Promise((h,p)=>{const L=new j.$kb,S=[],P=B=>{if(S.push(B),S.length>u)return L.dispose(),i.pause(),h({stream:i,buffer:S,ended:!1})},d=B=>p(B),y=()=>h({stream:i,buffer:S,ended:!0});L.add((0,j.$jb)(()=>i.removeListener("error",d))),i.on("error",d),L.add((0,j.$jb)(()=>i.removeListener("end",y))),i.on("end",y),L.add((0,j.$jb)(()=>i.removeListener("data",P))),i.on("data",P)})}t.$xc=O;function m(i,u){const h=V(u);return h.end(i),h}t.$yc=m;function a(){const i=V(()=>{throw new Error("not supported")});return i.end(),i}t.$zc=a;function s(i){let u=!1;return{read:()=>u?null:(u=!0,i)}}t.$Ac=s;function c(i,u,h){const p=V(h);return $(i,{onData:L=>p.write(u.data(L)),onError:L=>p.error(u.error?u.error(L):L),onEnd:()=>p.end()}),p}t.$Bc=c;function e(i,u,h){let p=!1;return{read:()=>{const L=u.read();return p?L:(p=!0,L!==null?h([i,L]):i)}}}t.$Cc=e;function l(i,u,h){let p=!1;const L=V(h);return $(u,{onData:S=>p?L.write(S):(p=!0,L.write(h([i,S]))),onError:S=>L.error(S),onEnd:()=>{p||(p=!0,L.write(i)),L.end()}}),L}t.$Dc=l}),define(rt[6],lt([0,1,37,14]),function(st,t,U,j){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Yc=t.$Xc=t.$Wc=t.$Vc=t.$Uc=t.$Tc=t.$Sc=t.$Rc=t.$Qc=t.$Pc=t.$Oc=t.$Nc=t.$Mc=t.$Lc=t.$Kc=t.$Jc=t.$Ic=t.$Hc=t.$Gc=t.$Fc=t.$Ec=void 0;const D=typeof Buffer<"u",E=new U.$T(()=>new Uint8Array(256));let H,V;class I{static alloc(w){return D?new I(Buffer.allocUnsafe(w)):new I(new Uint8Array(w))}static wrap(w){return D&&!Buffer.isBuffer(w)&&(w=Buffer.from(w.buffer,w.byteOffset,w.byteLength)),new I(w)}static fromString(w,z){return!(z?.dontUseNodeBuffer||!1)&&D?new I(Buffer.from(w)):(H||(H=new TextEncoder),new I(H.encode(w)))}static fromByteArray(w){const z=I.alloc(w.length);for(let K=0,_=w.length;K<_;K++)z.buffer[K]=w[K];return z}static concat(w,z){if(typeof z>"u"){z=0;for(let x=0,et=w.length;x<et;x++)z+=w[x].byteLength}const K=I.alloc(z);let _=0;for(let x=0,et=w.length;x<et;x++){const tt=w[x];K.set(tt,_),_+=tt.byteLength}return K}constructor(w){this.buffer=w,this.byteLength=this.buffer.byteLength}clone(){const w=I.alloc(this.byteLength);return w.set(this),w}toString(){return D?this.buffer.toString():(V||(V=new TextDecoder),V.decode(this.buffer))}slice(w,z){return new I(this.buffer.subarray(w,z))}set(w,z){if(w instanceof I)this.buffer.set(w.buffer,z);else if(w instanceof Uint8Array)this.buffer.set(w,z);else if(w instanceof ArrayBuffer)this.buffer.set(new Uint8Array(w),z);else if(ArrayBuffer.isView(w))this.buffer.set(new Uint8Array(w.buffer,w.byteOffset,w.byteLength),z);else throw new Error("Unknown argument 'array'")}readUInt32BE(w){return $(this.buffer,w)}writeUInt32BE(w,z){O(this.buffer,w,z)}readUInt32LE(w){return m(this.buffer,w)}writeUInt32LE(w,z){a(this.buffer,w,z)}readUInt8(w){return s(this.buffer,w)}writeUInt8(w,z){c(this.buffer,w,z)}indexOf(w,z=0){return f(this.buffer,w instanceof I?w.buffer:w,z)}}t.$Ec=I;function f(A,w,z=0){const K=w.byteLength,_=A.byteLength;if(K===0)return 0;if(K===1)return A.indexOf(w[0]);if(K>_-z)return-1;const x=E.value;x.fill(w.length);for(let G=0;G<w.length;G++)x[w[G]]=w.length-G-1;let et=z+w.length-1,tt=et,C=-1;for(;et<_;)if(A[et]===w[tt]){if(tt===0){C=et;break}et--,tt--}else et+=Math.max(w.length-tt,x[A[et]]),tt=w.length-1;return C}t.$Fc=f;function b(A,w){return A[w+0]<<0>>>0|A[w+1]<<8>>>0}t.$Gc=b;function k(A,w,z){A[z+0]=w&255,w=w>>>8,A[z+1]=w&255}t.$Hc=k;function $(A,w){return A[w]*2**24+A[w+1]*2**16+A[w+2]*2**8+A[w+3]}t.$Ic=$;function O(A,w,z){A[z+3]=w,w=w>>>8,A[z+2]=w,w=w>>>8,A[z+1]=w,w=w>>>8,A[z]=w}t.$Jc=O;function m(A,w){return A[w+0]<<0>>>0|A[w+1]<<8>>>0|A[w+2]<<16>>>0|A[w+3]<<24>>>0}t.$Kc=m;function a(A,w,z){A[z+0]=w&255,w=w>>>8,A[z+1]=w&255,w=w>>>8,A[z+2]=w&255,w=w>>>8,A[z+3]=w&255}t.$Lc=a;function s(A,w){return A[w]}t.$Mc=s;function c(A,w,z){A[z]=w}t.$Nc=c;function e(A){return j.$tc(A,w=>I.concat(w))}t.$Oc=e;function l(A){return j.$Ac(A)}t.$Pc=l;function i(A){return j.$vc(A,w=>I.concat(w))}t.$Qc=i;async function u(A){return A.ended?I.concat(A.buffer):I.concat([...A.buffer,await i(A.stream)])}t.$Rc=u;function h(A){return j.$yc(A,w=>I.concat(w))}t.$Sc=h;function p(A){return j.$Bc(A,{data:w=>typeof w=="string"?I.fromString(w):I.wrap(w)},w=>I.concat(w))}t.$Tc=p;function L(A){return j.$sc(w=>I.concat(w),A)}t.$Uc=L;function S(A,w){return j.$Cc(A,w,z=>I.concat(z))}t.$Vc=S;function P(A,w){return j.$Dc(A,w,z=>I.concat(z))}t.$Wc=P;function d(A){let w=0,z=0,K=0;const _=new Uint8Array(Math.floor(A.length/4*3)),x=tt=>{switch(z){case 3:_[K++]=w|tt,z=0;break;case 2:_[K++]=w|tt>>>2,w=tt<<6,z=3;break;case 1:_[K++]=w|tt>>>4,w=tt<<4,z=2;break;default:w=tt<<2,z=1}};for(let tt=0;tt<A.length;tt++){const C=A.charCodeAt(tt);if(C>=65&&C<=90)x(C-65);else if(C>=97&&C<=122)x(C-97+26);else if(C>=48&&C<=57)x(C-48+52);else if(C===43||C===45)x(62);else if(C===47||C===95)x(63);else{if(C===61)break;throw new SyntaxError(`Unexpected base64 character ${A[tt]}`)}}const et=K;for(;z>0;)x(0);return I.wrap(_).slice(0,et)}t.$Xc=d;const y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function Z({buffer:A},w=!0,z=!1){const K=z?B:y;let _="";const x=A.byteLength%3;let et=0;for(;et<A.byteLength-x;et+=3){const tt=A[et+0],C=A[et+1],G=A[et+2];_+=K[tt>>>2],_+=K[(tt<<4|C>>>4)&63],_+=K[(C<<2|G>>>6)&63],_+=K[G&63]}if(x===1){const tt=A[et+0];_+=K[tt>>>2],_+=K[tt<<4&63],w&&(_+="==")}else if(x===2){const tt=A[et+0],C=A[et+1];_+=K[tt>>>2],_+=K[(tt<<4|C>>>4)&63],_+=K[C<<2&63],w&&(_+="=")}return _}t.$Yc=Z}),define(rt[15],lt([0,1]),function(st,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$bc=void 0,t.$bc=Symbol("MicrotaskDelay")}),define(rt[16],lt([0,1]),function(st,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$ls=t.StringEOL=void 0;var U;(function(D){D[D.Unknown=0]="Unknown",D[D.Invalid=3]="Invalid",D[D.LF=1]="LF",D[D.CRLF=2]="CRLF"})(U||(t.StringEOL=U={}));function j(D){let E=0,H=0,V=0,I=0;for(let f=0,b=D.length;f<b;f++){const k=D.charCodeAt(f);k===13?(E===0&&(H=f),E++,f+1<b&&D.charCodeAt(f+1)===10?(I|=2,f++):I|=3,V=f+1):k===10&&(I|=1,E===0&&(H=f),E++,V=f+1)}return E===0&&(H=D.length),[E,H,D.length-V,I]}t.$ls=j}),define(rt[17],lt([0,1]),function(st,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$8B=t.$7B=t.$6B=t.$5B=t.$4B=t.$3B=t.$2B=t.$1B=t.$ZB=t.NodeColor=t.$YB=void 0;class U{constructor(s,c){this.piece=s,this.color=c,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==t.$ZB)return D(this.right);let s=this;for(;s.parent!==t.$ZB&&s.parent.left!==s;)s=s.parent;return s.parent===t.$ZB?t.$ZB:s.parent}prev(){if(this.left!==t.$ZB)return E(this.left);let s=this;for(;s.parent!==t.$ZB&&s.parent.right!==s;)s=s.parent;return s.parent===t.$ZB?t.$ZB:s.parent}detach(){this.parent=null,this.left=null,this.right=null}}t.$YB=U;var j;(function(a){a[a.Black=0]="Black",a[a.Red=1]="Red"})(j||(t.NodeColor=j={})),t.$ZB=new U(null,0),t.$ZB.parent=t.$ZB,t.$ZB.left=t.$ZB,t.$ZB.right=t.$ZB,t.$ZB.color=0;function D(a){for(;a.left!==t.$ZB;)a=a.left;return a}t.$1B=D;function E(a){for(;a.right!==t.$ZB;)a=a.right;return a}t.$2B=E;function H(a){return a===t.$ZB?0:a.size_left+a.piece.length+H(a.right)}function V(a){return a===t.$ZB?0:a.lf_left+a.piece.lineFeedCnt+V(a.right)}function I(){t.$ZB.parent=t.$ZB}function f(a,s){const c=s.right;c.size_left+=s.size_left+(s.piece?s.piece.length:0),c.lf_left+=s.lf_left+(s.piece?s.piece.lineFeedCnt:0),s.right=c.left,c.left!==t.$ZB&&(c.left.parent=s),c.parent=s.parent,s.parent===t.$ZB?a.root=c:s.parent.left===s?s.parent.left=c:s.parent.right=c,c.left=s,s.parent=c}t.$3B=f;function b(a,s){const c=s.left;s.left=c.right,c.right!==t.$ZB&&(c.right.parent=s),c.parent=s.parent,s.size_left-=c.size_left+(c.piece?c.piece.length:0),s.lf_left-=c.lf_left+(c.piece?c.piece.lineFeedCnt:0),s.parent===t.$ZB?a.root=c:s===s.parent.right?s.parent.right=c:s.parent.left=c,c.right=s,s.parent=c}t.$4B=b;function k(a,s){let c,e;if(s.left===t.$ZB?(e=s,c=e.right):s.right===t.$ZB?(e=s,c=e.left):(e=D(s.right),c=e.right),e===a.root){a.root=c,c.color=0,s.detach(),I(),a.root.parent=t.$ZB;return}const l=e.color===1;if(e===e.parent.left?e.parent.left=c:e.parent.right=c,e===s?(c.parent=e.parent,m(a,c)):(e.parent===s?c.parent=e:c.parent=e.parent,m(a,c),e.left=s.left,e.right=s.right,e.parent=s.parent,e.color=s.color,s===a.root?a.root=e:s===s.parent.left?s.parent.left=e:s.parent.right=e,e.left!==t.$ZB&&(e.left.parent=e),e.right!==t.$ZB&&(e.right.parent=e),e.size_left=s.size_left,e.lf_left=s.lf_left,m(a,e)),s.detach(),c.parent.left===c){const u=H(c),h=V(c);if(u!==c.parent.size_left||h!==c.parent.lf_left){const p=u-c.parent.size_left,L=h-c.parent.lf_left;c.parent.size_left=u,c.parent.lf_left=h,O(a,c.parent,p,L)}}if(m(a,c.parent),l){I();return}let i;for(;c!==a.root&&c.color===0;)c===c.parent.left?(i=c.parent.right,i.color===1&&(i.color=0,c.parent.color=1,f(a,c.parent),i=c.parent.right),i.left.color===0&&i.right.color===0?(i.color=1,c=c.parent):(i.right.color===0&&(i.left.color=0,i.color=1,b(a,i),i=c.parent.right),i.color=c.parent.color,c.parent.color=0,i.right.color=0,f(a,c.parent),c=a.root)):(i=c.parent.left,i.color===1&&(i.color=0,c.parent.color=1,b(a,c.parent),i=c.parent.left),i.left.color===0&&i.right.color===0?(i.color=1,c=c.parent):(i.left.color===0&&(i.right.color=0,i.color=1,f(a,i),i=c.parent.left),i.color=c.parent.color,c.parent.color=0,i.left.color=0,b(a,c.parent),c=a.root));c.color=0,I()}t.$5B=k;function $(a,s){for(m(a,s);s!==a.root&&s.parent.color===1;)if(s.parent===s.parent.parent.left){const c=s.parent.parent.right;c.color===1?(s.parent.color=0,c.color=0,s.parent.parent.color=1,s=s.parent.parent):(s===s.parent.right&&(s=s.parent,f(a,s)),s.parent.color=0,s.parent.parent.color=1,b(a,s.parent.parent))}else{const c=s.parent.parent.left;c.color===1?(s.parent.color=0,c.color=0,s.parent.parent.color=1,s=s.parent.parent):(s===s.parent.left&&(s=s.parent,b(a,s)),s.parent.color=0,s.parent.parent.color=1,f(a,s.parent.parent))}a.root.color=0}t.$6B=$;function O(a,s,c,e){for(;s!==a.root&&s!==t.$ZB;)s.parent.left===s&&(s.parent.size_left+=c,s.parent.lf_left+=e),s=s.parent}t.$7B=O;function m(a,s){let c=0,e=0;if(s!==a.root){for(;s!==a.root&&s===s.parent.right;)s=s.parent;if(s!==a.root)for(s=s.parent,c=H(s.left)-s.size_left,e=V(s.left)-s.lf_left,s.size_left+=c,s.lf_left+=e;s!==a.root&&(c!==0||e!==0);)s.parent.left===s&&(s.parent.size_left+=c,s.parent.lf_left+=e),s=s.parent}}t.$8B=m}),define(rt[8],lt([0,1,38,9,18,17,19]),function(st,t,U,j,D,E,H){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$gC=t.$fC=t.$eC=t.$dC=t.$cC=void 0;const V=65535;function I(c){let e;return c[c.length-1]<65536?e=new Uint16Array(c.length):e=new Uint32Array(c.length),e.set(c,0),e}class f{constructor(e,l,i,u,h){this.lineStarts=e,this.cr=l,this.lf=i,this.crlf=u,this.isBasicASCII=h}}function b(c,e=!0){const l=[0];let i=1;for(let u=0,h=c.length;u<h;u++){const p=c.charCodeAt(u);p===13?u+1<h&&c.charCodeAt(u+1)===10?(l[i++]=u+2,u++):l[i++]=u+1:p===10&&(l[i++]=u+1)}return e?I(l):l}t.$cC=b;function k(c,e){c.length=0,c[0]=0;let l=1,i=0,u=0,h=0,p=!0;for(let S=0,P=e.length;S<P;S++){const d=e.charCodeAt(S);d===13?S+1<P&&e.charCodeAt(S+1)===10?(h++,c[l++]=S+2,S++):(i++,c[l++]=S+1):d===10?(u++,c[l++]=S+1):p&&d!==9&&(d<32||d>126)&&(p=!1)}const L=new f(I(c),i,u,h,p);return c.length=0,L}t.$dC=k;class ${constructor(e,l,i,u,h){this.bufferIndex=e,this.start=l,this.end=i,this.lineFeedCnt=u,this.length=h}}t.$eC=$;class O{constructor(e,l){this.buffer=e,this.lineStarts=l}}t.$fC=O;class m{constructor(e,l){this.a=[],this.c=e,this.d=l,this.b=0,e.root!==E.$ZB&&e.iterate(e.root,i=>(i!==E.$ZB&&this.a.push(i.piece),!0))}read(){return this.a.length===0?this.b===0?(this.b++,this.d):null:this.b>this.a.length-1?null:this.b===0?this.d+this.c.getPieceContent(this.a[this.b++]):this.c.getPieceContent(this.a[this.b++])}}class a{constructor(e){this.a=e,this.b=[]}get(e){for(let l=this.b.length-1;l>=0;l--){const i=this.b[l];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let l=this.b.length-1;l>=0;l--){const i=this.b[l];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this.b.length>=this.a&&this.b.shift(),this.b.push(e)}validate(e){let l=!1;const i=this.b;for(let u=0;u<i.length;u++){const h=i[u];if(h.node.parent===null||h.nodeStartOffset>=e){i[u]=null,l=!0;continue}}if(l){const u=[];for(const h of i)h!==null&&u.push(h);this.b=u}}}class s{constructor(e,l,i){this.create(e,l,i)}create(e,l,i){this.a=[new O("",[0])],this.g={line:0,column:0},this.root=E.$ZB,this.b=1,this.c=0,this.d=l,this.e=l.length,this.f=i;let u=null;for(let h=0,p=e.length;h<p;h++)if(e[h].buffer.length>0){e[h].lineStarts||(e[h].lineStarts=b(e[h].buffer));const L=new $(h+1,{line:0,column:0},{line:e[h].lineStarts.length-1,column:e[h].buffer.length-e[h].lineStarts[e[h].lineStarts.length-1]},e[h].lineStarts.length-1,e[h].buffer.length);this.a.push(e[h]),u=this.S(u,L)}this.h=new a(1),this.j={lineNumber:0,value:""},this.y()}normalizeEOL(e){const l=V,i=l-Math.floor(l/3),u=i*2;let h="",p=0;const L=[];if(this.iterate(this.root,S=>{const P=this.R(S),d=P.length;if(p<=i||p+d<u)return h+=P,p+=d,!0;const y=h.replace(/\r\n|\r|\n/g,e);return L.push(new O(y,b(y))),h=P,p=d,!0}),p>0){const S=h.replace(/\r\n|\r|\n/g,e);L.push(new O(S,b(S)))}this.create(L,e,!0)}getEOL(){return this.d}setEOL(e){this.d=e,this.e=this.d.length,this.normalizeEOL(e)}createSnapshot(e){return new m(this,e)}equal(e){if(this.getLength()!==e.getLength()||this.getLineCount()!==e.getLineCount())return!1;let l=0;return this.iterate(this.root,u=>{if(u===E.$ZB)return!0;const h=this.R(u),p=h.length,L=e.G(l),S=e.G(l+p),P=e.getValueInRange2(L,S);return l+=p,h===P})}getOffsetAt(e,l){let i=0,u=this.root;for(;u!==E.$ZB;)if(u.left!==E.$ZB&&u.lf_left+1>=e)u=u.left;else if(u.lf_left+u.piece.lineFeedCnt+1>=e){i+=u.size_left;const h=this.B(u,e-u.lf_left-2);return i+=h+l-1}else e-=u.lf_left+u.piece.lineFeedCnt,i+=u.size_left+u.piece.length,u=u.right;return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let l=this.root,i=0;const u=e;for(;l!==E.$ZB;)if(l.size_left!==0&&l.size_left>=e)l=l.left;else if(l.size_left+l.piece.length>=e){const h=this.A(l,e-l.size_left);if(i+=l.lf_left+h.index,h.index===0){const p=this.getOffsetAt(i+1,1),L=u-p;return new U.$Tr(i+1,L+1)}return new U.$Tr(i+1,h.remainder+1)}else if(e-=l.size_left+l.piece.length,i+=l.lf_left+l.piece.lineFeedCnt,l.right===E.$ZB){const h=this.getOffsetAt(i+1,1),p=u-e-h;return new U.$Tr(i+1,p+1)}else l=l.right;return new U.$Tr(1,1)}getValueInRange(e,l){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const i=this.H(e.startLineNumber,e.startColumn),u=this.H(e.endLineNumber,e.endColumn),h=this.getValueInRange2(i,u);return l?l!==this.d||!this.f?h.replace(/\r\n|\r|\n/g,l):l===this.getEOL()&&this.f?h:h.replace(/\r\n|\r|\n/g,l):h}getValueInRange2(e,l){if(e.node===l.node){const L=e.node,S=this.a[L.piece.bufferIndex].buffer,P=this.u(L.piece.bufferIndex,L.piece.start);return S.substring(P+e.remainder,P+l.remainder)}let i=e.node;const u=this.a[i.piece.bufferIndex].buffer,h=this.u(i.piece.bufferIndex,i.piece.start);let p=u.substring(h+e.remainder,h+i.piece.length);for(i=i.next();i!==E.$ZB;){const L=this.a[i.piece.bufferIndex].buffer,S=this.u(i.piece.bufferIndex,i.piece.start);if(i===l.node){p+=L.substring(S,S+l.remainder);break}else p+=L.substr(S,i.piece.length);i=i.next()}return p}getLinesContent(){const e=[];let l=0,i="",u=!1;return this.iterate(this.root,h=>{if(h===E.$ZB)return!0;const p=h.piece;let L=p.length;if(L===0)return!0;const S=this.a[p.bufferIndex].buffer,P=this.a[p.bufferIndex].lineStarts,d=p.start.line,y=p.end.line;let B=P[d]+p.start.column;if(u&&(S.charCodeAt(B)===10&&(B++,L--),e[l++]=i,i="",u=!1,L===0))return!0;if(d===y)return!this.f&&S.charCodeAt(B+L-1)===13?(u=!0,i+=S.substr(B,L-1)):i+=S.substr(B,L),!0;i+=this.f?S.substring(B,Math.max(B,P[d+1]-this.e)):S.substring(B,P[d+1]).replace(/(\r\n|\r|\n)$/,""),e[l++]=i;for(let Z=d+1;Z<y;Z++)i=this.f?S.substring(P[Z],P[Z+1]-this.e):S.substring(P[Z],P[Z+1]).replace(/(\r\n|\r|\n)$/,""),e[l++]=i;return!this.f&&S.charCodeAt(P[y]+p.end.column-1)===13?(u=!0,p.end.column===0?l--:i=S.substr(P[y],p.end.column-1)):i=S.substr(P[y],p.end.column),!0}),u&&(e[l++]=i,i=""),e[l++]=i,e}getLength(){return this.c}getLineCount(){return this.b}getLineContent(e){return this.j.lineNumber===e?this.j.value:(this.j.lineNumber=e,e===this.b?this.j.value=this.getLineRawContent(e):this.f?this.j.value=this.getLineRawContent(e,this.e):this.j.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this.j.value)}l(e){if(e.remainder===e.node.piece.length){const l=e.node.next();if(!l)return 0;const i=this.a[l.piece.bufferIndex],u=this.u(l.piece.bufferIndex,l.piece.start);return i.buffer.charCodeAt(u)}else{const l=this.a[e.node.piece.bufferIndex],u=this.u(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return l.buffer.charCodeAt(u)}}getLineCharCode(e,l){const i=this.H(e,l+1);return this.l(i)}getLineLength(e){if(e===this.getLineCount()){const l=this.getOffsetAt(e,1);return this.getLength()-l}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this.e}getCharCode(e){const l=this.G(e);return this.l(l)}findMatchesInNode(e,l,i,u,h,p,L,S,P,d,y){const B=this.a[e.piece.bufferIndex],Z=this.u(e.piece.bufferIndex,e.piece.start),A=this.u(e.piece.bufferIndex,h),w=this.u(e.piece.bufferIndex,p);let z;const K={line:0,column:0};let _,x;l._wordSeparators?(_=B.buffer.substring(A,w),x=et=>et+A,l.reset(0)):(_=B.buffer,x=et=>et,l.reset(A));do if(z=l.next(_),z){if(x(z.index)>=w)return d;this.s(e,x(z.index)-Z,K);const et=this.t(e.piece.bufferIndex,h,K),tt=K.line===h.line?K.column-h.column+u:K.column+1,C=tt+z[0].length;if(y[d++]=(0,H.$$B)(new j.$Ur(i+et,tt,i+et,C),z,S),x(z.index)+z[0].length>=w||d>=P)return d}while(z);return d}findMatchesLineByLine(e,l,i,u){const h=[];let p=0;const L=new H.$bC(l.wordSeparators,l.regex);let S=this.H(e.startLineNumber,e.startColumn);if(S===null)return[];const P=this.H(e.endLineNumber,e.endColumn);if(P===null)return[];let d=this.s(S.node,S.remainder);const y=this.s(P.node,P.remainder);if(S.node===P.node)return this.findMatchesInNode(S.node,L,e.startLineNumber,e.startColumn,d,y,l,i,u,p,h),h;let B=e.startLineNumber,Z=S.node;for(;Z!==P.node;){const w=this.t(Z.piece.bufferIndex,d,Z.piece.end);if(w>=1){const K=this.a[Z.piece.bufferIndex].lineStarts,_=this.u(Z.piece.bufferIndex,Z.piece.start),x=K[d.line+w],et=B===e.startLineNumber?e.startColumn:1;if(p=this.findMatchesInNode(Z,L,B,et,d,this.s(Z,x-_),l,i,u,p,h),p>=u)return h;B+=w}const z=B===e.startLineNumber?e.startColumn-1:0;if(B===e.endLineNumber){const K=this.getLineContent(B).substring(z,e.endColumn-1);return p=this.n(l,L,K,e.endLineNumber,z,p,h,i,u),h}if(p=this.n(l,L,this.getLineContent(B).substr(z),B,z,p,h,i,u),p>=u)return h;B++,S=this.H(B,1),Z=S.node,d=this.s(S.node,S.remainder)}if(B===e.endLineNumber){const w=B===e.startLineNumber?e.startColumn-1:0,z=this.getLineContent(B).substring(w,e.endColumn-1);return p=this.n(l,L,z,e.endLineNumber,w,p,h,i,u),h}const A=B===e.startLineNumber?e.startColumn:1;return p=this.findMatchesInNode(P.node,L,B,A,d,y,l,i,u,p,h),h}n(e,l,i,u,h,p,L,S,P){const d=e.wordSeparators;if(!S&&e.simpleSearch){const B=e.simpleSearch,Z=B.length,A=i.length;let w=-Z;for(;(w=i.indexOf(B,w+Z))!==-1;)if((!d||(0,H.$aC)(d,i,A,w,Z))&&(L[p++]=new D.$3t(new j.$Ur(u,w+1+h,u,w+1+Z+h),null),p>=P))return p;return p}let y;l.reset(0);do if(y=l.next(i),y&&(L[p++]=(0,H.$$B)(new j.$Ur(u,y.index+1+h,u,y.index+1+y[0].length+h),y,S),p>=P))return p;while(y);return p}insert(e,l,i=!1){if(this.f=this.f&&i,this.j.lineNumber=0,this.j.value="",this.root!==E.$ZB){const{node:u,remainder:h,nodeStartOffset:p}=this.G(e),L=u.piece,S=L.bufferIndex,P=this.s(u,h);if(u.piece.bufferIndex===0&&L.end.line===this.g.line&&L.end.column===this.g.column&&p+L.length===e&&l.length<V){this.F(u,l),this.y();return}if(p===e)this.o(l,u),this.h.validate(e);else if(p+u.piece.length>e){const d=[];let y=new $(L.bufferIndex,P,L.end,this.t(L.bufferIndex,P,L.end),this.u(S,L.end)-this.u(S,P));if(this.K()&&this.M(l)&&this.I(u,h)===10){const w={line:y.start.line+1,column:0};y=new $(y.bufferIndex,w,y.end,this.t(y.bufferIndex,w,y.end),y.length-1),l+=`
`}if(this.K()&&this.L(l))if(this.I(u,h-1)===13){const w=this.s(u,h-1);this.C(u,w),l="\r"+l,u.piece.length===0&&d.push(u)}else this.C(u,P);else this.C(u,P);const B=this.w(l);y.length>0&&this.S(u,y);let Z=u;for(let A=0;A<B.length;A++)Z=this.S(Z,B[A]);this.v(d)}else this.q(l,u)}else{const u=this.w(l);let h=this.T(null,u[0]);for(let p=1;p<u.length;p++)h=this.S(h,u[p])}this.y()}delete(e,l){if(this.j.lineNumber=0,this.j.value="",l<=0||this.root===E.$ZB)return;const i=this.G(e),u=this.G(e+l),h=i.node,p=u.node;if(h===p){const B=this.s(h,i.remainder),Z=this.s(h,u.remainder);if(i.nodeStartOffset===e){if(l===h.piece.length){const A=h.next();(0,E.$5B)(this,h),this.N(A),this.y();return}this.D(h,Z),this.h.validate(e),this.N(h),this.y();return}if(i.nodeStartOffset+h.piece.length===e+l){this.C(h,B),this.O(h),this.y();return}this.E(h,B,Z),this.y();return}const L=[],S=this.s(h,i.remainder);this.C(h,S),this.h.validate(e),h.piece.length===0&&L.push(h);const P=this.s(p,u.remainder);this.D(p,P),p.piece.length===0&&L.push(p);const d=h.next();for(let B=d;B!==E.$ZB&&B!==p;B=B.next())L.push(B);const y=h.piece.length===0?h.prev():h;this.v(L),this.O(y),this.y()}o(e,l){const i=[];if(this.K()&&this.M(e)&&this.L(l)){const p=l.piece,L={line:p.start.line+1,column:0},S=new $(p.bufferIndex,L,p.end,this.t(p.bufferIndex,L,p.end),p.length-1);l.piece=S,e+=`
`,(0,E.$7B)(this,l,-1,-1),l.piece.length===0&&i.push(l)}const u=this.w(e);let h=this.T(l,u[u.length-1]);for(let p=u.length-2;p>=0;p--)h=this.T(h,u[p]);this.N(h),this.v(i)}q(e,l){this.Q(e,l)&&(e+=`
`);const i=this.w(e),u=this.S(l,i[0]);let h=u;for(let p=1;p<i.length;p++)h=this.S(h,i[p]);this.N(u)}s(e,l,i){const u=e.piece,h=e.piece.bufferIndex,p=this.a[h].lineStarts,S=p[u.start.line]+u.start.column+l;let P=u.start.line,d=u.end.line,y=0,B=0,Z=0;for(;P<=d&&(y=P+(d-P)/2|0,Z=p[y],y!==d);)if(B=p[y+1],S<Z)d=y-1;else if(S>=B)P=y+1;else break;return i?(i.line=y,i.column=S-Z,null):{line:y,column:S-Z}}t(e,l,i){if(i.column===0)return i.line-l.line;const u=this.a[e].lineStarts;if(i.line===u.length-1)return i.line-l.line;const h=u[i.line+1],p=u[i.line]+i.column;if(h>p+1)return i.line-l.line;const L=p-1;return this.a[e].buffer.charCodeAt(L)===13?i.line-l.line+1:i.line-l.line}u(e,l){return this.a[e].lineStarts[l.line]+l.column}v(e){for(let l=0;l<e.length;l++)(0,E.$5B)(this,e[l])}w(e){if(e.length>V){const d=[];for(;e.length>V;){const B=e.charCodeAt(V-1);let Z;B===13||B>=55296&&B<=56319?(Z=e.substring(0,V-1),e=e.substring(V-1)):(Z=e.substring(0,V),e=e.substring(V));const A=b(Z);d.push(new $(this.a.length,{line:0,column:0},{line:A.length-1,column:Z.length-A[A.length-1]},A.length-1,Z.length)),this.a.push(new O(Z,A))}const y=b(e);return d.push(new $(this.a.length,{line:0,column:0},{line:y.length-1,column:e.length-y[y.length-1]},y.length-1,e.length)),this.a.push(new O(e,y)),d}let l=this.a[0].buffer.length;const i=b(e,!1);let u=this.g;if(this.a[0].lineStarts[this.a[0].lineStarts.length-1]===l&&l!==0&&this.L(e)&&this.M(this.a[0].buffer)){this.g={line:this.g.line,column:this.g.column+1},u=this.g;for(let d=0;d<i.length;d++)i[d]+=l+1;this.a[0].lineStarts=this.a[0].lineStarts.concat(i.slice(1)),this.a[0].buffer+="_"+e,l+=1}else{if(l!==0)for(let d=0;d<i.length;d++)i[d]+=l;this.a[0].lineStarts=this.a[0].lineStarts.concat(i.slice(1)),this.a[0].buffer+=e}const h=this.a[0].buffer.length,p=this.a[0].lineStarts.length-1,L=h-this.a[0].lineStarts[p],S={line:p,column:L},P=new $(0,u,S,this.t(0,u,S),h-l);return this.g=S,[P]}getLinesRawContent(){return this.U(this.root)}getLineRawContent(e,l=0){let i=this.root,u="";const h=this.h.get2(e);if(h){i=h.node;const p=this.B(i,e-h.nodeStartLineNumber-1),L=this.a[i.piece.bufferIndex].buffer,S=this.u(i.piece.bufferIndex,i.piece.start);if(h.nodeStartLineNumber+i.piece.lineFeedCnt===e)u=L.substring(S+p,S+i.piece.length);else{const P=this.B(i,e-h.nodeStartLineNumber);return L.substring(S+p,S+P-l)}}else{let p=0;const L=e;for(;i!==E.$ZB;)if(i.left!==E.$ZB&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const S=this.B(i,e-i.lf_left-2),P=this.B(i,e-i.lf_left-1),d=this.a[i.piece.bufferIndex].buffer,y=this.u(i.piece.bufferIndex,i.piece.start);return p+=i.size_left,this.h.set({node:i,nodeStartOffset:p,nodeStartLineNumber:L-(e-1-i.lf_left)}),d.substring(y+S,y+P-l)}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const S=this.B(i,e-i.lf_left-2),P=this.a[i.piece.bufferIndex].buffer,d=this.u(i.piece.bufferIndex,i.piece.start);u=P.substring(d+S,d+i.piece.length);break}else e-=i.lf_left+i.piece.lineFeedCnt,p+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==E.$ZB;){const p=this.a[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){const L=this.B(i,0),S=this.u(i.piece.bufferIndex,i.piece.start);return u+=p.substring(S,S+L-l),u}else{const L=this.u(i.piece.bufferIndex,i.piece.start);u+=p.substr(L,i.piece.length)}i=i.next()}return u}y(){let e=this.root,l=1,i=0;for(;e!==E.$ZB;)l+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this.b=l,this.c=i,this.h.validate(this.c)}A(e,l){const i=e.piece,u=this.s(e,l),h=u.line-i.start.line;if(this.u(i.bufferIndex,i.end)-this.u(i.bufferIndex,i.start)===l){const p=this.t(e.piece.bufferIndex,i.start,u);if(p!==h)return{index:p,remainder:0}}return{index:h,remainder:u.column}}B(e,l){if(l<0)return 0;const i=e.piece,u=this.a[i.bufferIndex].lineStarts,h=i.start.line+l+1;return h>i.end.line?u[i.end.line]+i.end.column-u[i.start.line]-i.start.column:u[h]-u[i.start.line]-i.start.column}C(e,l){const i=e.piece,u=i.lineFeedCnt,h=this.u(i.bufferIndex,i.end),p=l,L=this.u(i.bufferIndex,p),S=this.t(i.bufferIndex,i.start,p),P=S-u,d=L-h,y=i.length+d;e.piece=new $(i.bufferIndex,i.start,p,S,y),(0,E.$7B)(this,e,d,P)}D(e,l){const i=e.piece,u=i.lineFeedCnt,h=this.u(i.bufferIndex,i.start),p=l,L=this.t(i.bufferIndex,p,i.end),S=this.u(i.bufferIndex,p),P=L-u,d=h-S,y=i.length+d;e.piece=new $(i.bufferIndex,p,i.end,L,y),(0,E.$7B)(this,e,d,P)}E(e,l,i){const u=e.piece,h=u.start,p=u.end,L=u.length,S=u.lineFeedCnt,P=l,d=this.t(u.bufferIndex,u.start,P),y=this.u(u.bufferIndex,l)-this.u(u.bufferIndex,h);e.piece=new $(u.bufferIndex,u.start,P,d,y),(0,E.$7B)(this,e,y-L,d-S);const B=new $(u.bufferIndex,i,p,this.t(u.bufferIndex,i,p),this.u(u.bufferIndex,p)-this.u(u.bufferIndex,i)),Z=this.S(e,B);this.N(Z)}F(e,l){this.Q(l,e)&&(l+=`
`);const i=this.K()&&this.L(l)&&this.M(e),u=this.a[0].buffer.length;this.a[0].buffer+=l;const h=b(l,!1);for(let Z=0;Z<h.length;Z++)h[Z]+=u;if(i){const Z=this.a[0].lineStarts[this.a[0].lineStarts.length-2];this.a[0].lineStarts.pop(),this.g={line:this.g.line-1,column:u-Z}}this.a[0].lineStarts=this.a[0].lineStarts.concat(h.slice(1));const p=this.a[0].lineStarts.length-1,L=this.a[0].buffer.length-this.a[0].lineStarts[p],S={line:p,column:L},P=e.piece.length+l.length,d=e.piece.lineFeedCnt,y=this.t(0,e.piece.start,S),B=y-d;e.piece=new $(e.piece.bufferIndex,e.piece.start,S,y,P),this.g=S,(0,E.$7B)(this,e,l.length,B)}G(e){let l=this.root;const i=this.h.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let u=0;for(;l!==E.$ZB;)if(l.size_left>e)l=l.left;else if(l.size_left+l.piece.length>=e){u+=l.size_left;const h={node:l,remainder:e-l.size_left,nodeStartOffset:u};return this.h.set(h),h}else e-=l.size_left+l.piece.length,u+=l.size_left+l.piece.length,l=l.right;return null}H(e,l){let i=this.root,u=0;for(;i!==E.$ZB;)if(i.left!==E.$ZB&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const h=this.B(i,e-i.lf_left-2),p=this.B(i,e-i.lf_left-1);return u+=i.size_left,{node:i,remainder:Math.min(h+l-1,p),nodeStartOffset:u}}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const h=this.B(i,e-i.lf_left-2);if(h+l-1<=i.piece.length)return{node:i,remainder:h+l-1,nodeStartOffset:u};l-=i.piece.length-h;break}else e-=i.lf_left+i.piece.lineFeedCnt,u+=i.size_left+i.piece.length,i=i.right;for(i=i.next();i!==E.$ZB;){if(i.piece.lineFeedCnt>0){const h=this.B(i,0),p=this.J(i);return{node:i,remainder:Math.min(l-1,h),nodeStartOffset:p}}else if(i.piece.length>=l-1){const h=this.J(i);return{node:i,remainder:l-1,nodeStartOffset:h}}else l-=i.piece.length;i=i.next()}return null}I(e,l){if(e.piece.lineFeedCnt<1)return-1;const i=this.a[e.piece.bufferIndex],u=this.u(e.piece.bufferIndex,e.piece.start)+l;return i.buffer.charCodeAt(u)}J(e){if(!e)return 0;let l=e.size_left;for(;e!==this.root;)e.parent.right===e&&(l+=e.parent.size_left+e.parent.piece.length),e=e.parent;return l}K(){return!(this.f&&this.d===`
`)}L(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===E.$ZB||e.piece.lineFeedCnt===0)return!1;const l=e.piece,i=this.a[l.bufferIndex].lineStarts,u=l.start.line,h=i[u]+l.start.column;return u===i.length-1||i[u+1]>h+1?!1:this.a[l.bufferIndex].buffer.charCodeAt(h)===10}M(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===E.$ZB||e.piece.lineFeedCnt===0?!1:this.I(e,e.piece.length-1)===13}N(e){if(this.K()&&this.L(e)){const l=e.prev();this.M(l)&&this.P(l,e)}}O(e){if(this.K()&&this.M(e)){const l=e.next();this.L(l)&&this.P(e,l)}}P(e,l){const i=[],u=this.a[e.piece.bufferIndex].lineStarts;let h;e.piece.end.column===0?h={line:e.piece.end.line-1,column:u[e.piece.end.line]-u[e.piece.end.line-1]-1}:h={line:e.piece.end.line,column:e.piece.end.column-1};const p=e.piece.length-1,L=e.piece.lineFeedCnt-1;e.piece=new $(e.piece.bufferIndex,e.piece.start,h,L,p),(0,E.$7B)(this,e,-1,-1),e.piece.length===0&&i.push(e);const S={line:l.piece.start.line+1,column:0},P=l.piece.length-1,d=this.t(l.piece.bufferIndex,S,l.piece.end);l.piece=new $(l.piece.bufferIndex,S,l.piece.end,d,P),(0,E.$7B)(this,l,-1,-1),l.piece.length===0&&i.push(l);const y=this.w(`\r
`);this.S(e,y[0]);for(let B=0;B<i.length;B++)(0,E.$5B)(this,i[B])}Q(e,l){if(this.K()&&this.M(e)){const i=l.next();if(this.L(i)){if(e+=`
`,i.piece.length===1)(0,E.$5B)(this,i);else{const u=i.piece,h={line:u.start.line+1,column:0},p=u.length-1,L=this.t(u.bufferIndex,h,u.end);i.piece=new $(u.bufferIndex,h,u.end,L,p),(0,E.$7B)(this,i,-1,-1)}return!0}}return!1}iterate(e,l){if(e===E.$ZB)return l(E.$ZB);const i=this.iterate(e.left,l);return i&&l(e)&&this.iterate(e.right,l)}R(e){if(e===E.$ZB)return"";const l=this.a[e.piece.bufferIndex],i=e.piece,u=this.u(i.bufferIndex,i.start),h=this.u(i.bufferIndex,i.end);return l.buffer.substring(u,h)}getPieceContent(e){const l=this.a[e.bufferIndex],i=this.u(e.bufferIndex,e.start),u=this.u(e.bufferIndex,e.end);return l.buffer.substring(i,u)}S(e,l){const i=new E.$YB(l,1);if(i.left=E.$ZB,i.right=E.$ZB,i.parent=E.$ZB,i.size_left=0,i.lf_left=0,this.root===E.$ZB)this.root=i,i.color=0;else if(e.right===E.$ZB)e.right=i,i.parent=e;else{const h=(0,E.$1B)(e.right);h.left=i,i.parent=h}return(0,E.$6B)(this,i),i}T(e,l){const i=new E.$YB(l,1);if(i.left=E.$ZB,i.right=E.$ZB,i.parent=E.$ZB,i.size_left=0,i.lf_left=0,this.root===E.$ZB)this.root=i,i.color=0;else if(e.left===E.$ZB)e.left=i,i.parent=e;else{const u=(0,E.$2B)(e.left);u.right=i,i.parent=u}return(0,E.$6B)(this,i),i}U(e){let l="";return this.iterate(e,i=>(l+=this.R(i),!0)),l}}t.$gC=s}),define(rt[10],lt([0,1,5,2,3,39]),function(st,t,U,j,D,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Pe=t.$Oe=t.$Ne=t.$Me=t.$Le=t.$Ke=t.$Je=t.$Ie=t.$He=t.$Ge=t.$Fe=t.$Ee=t.$De=t.$Ce=t.$Be=t.$Ae=void 0;function H(d){return d===47||d===92}t.$Ae=H;function V(d){return d.replace(/[\\/]/g,U.$5c.sep)}t.$Be=V;function I(d){return d.indexOf("/")===-1&&(d=V(d)),/^[a-zA-Z]:(\/|$)/.test(d)&&(d="/"+d),d}t.$Ce=I;function f(d,y=U.$5c.sep){if(!d)return"";const B=d.length,Z=d.charCodeAt(0);if(H(Z)){if(H(d.charCodeAt(1))&&!H(d.charCodeAt(2))){let w=3;const z=w;for(;w<B&&!H(d.charCodeAt(w));w++);if(z!==w&&!H(d.charCodeAt(w+1))){for(w+=1;w<B;w++)if(H(d.charCodeAt(w)))return d.slice(0,w+1).replace(/[\\/]/g,y)}}return y}else if(c(Z)&&d.charCodeAt(1)===58)return H(d.charCodeAt(2))?d.slice(0,2)+y:d.slice(0,2);let A=d.indexOf("://");if(A!==-1){for(A+=3;A<B;A++)if(H(d.charCodeAt(A)))return d.slice(0,A+1)}return""}t.$De=f;function b(d){if(!j.$i||!d||d.length<5)return!1;let y=d.charCodeAt(0);if(y!==92||(y=d.charCodeAt(1),y!==92))return!1;let B=2;const Z=B;for(;B<d.length&&(y=d.charCodeAt(B),y!==92);B++);return!(Z===B||(y=d.charCodeAt(B+1),isNaN(y)||y===92))}t.$Ee=b;const k=/[\\/:\*\?"<>\|]/g,$=/[\\/]/g,O=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function m(d,y=j.$i){const B=y?k:$;return!(!d||d.length===0||/^\s+$/.test(d)||(B.lastIndex=0,B.test(d))||y&&O.test(d)||d==="."||d===".."||y&&d[d.length-1]==="."||y&&d.length!==d.trim().length||d.length>255)}t.$Fe=m;function a(d,y,B){const Z=d===y;return!B||Z?Z:!d||!y?!1:(0,D.$Ld)(d,y)}t.$Ge=a;function s(d,y,B,Z=U.sep){if(d===y)return!0;if(!d||!y||y.length>d.length)return!1;if(B){if(!(0,D.$Md)(d,y))return!1;if(y.length===d.length)return!0;let w=y.length;return y.charAt(y.length-1)===Z&&w--,d.charAt(w)===Z}return y.charAt(y.length-1)!==Z&&(y+=Z),d.indexOf(y)===0}t.$He=s;function c(d){return d>=65&&d<=90||d>=97&&d<=122}t.$Ie=c;function e(d,y){return j.$i&&d.endsWith(":")&&(d+=U.sep),(0,U.$7c)(d)||(d=(0,U.$8c)(y,d)),d=(0,U.$6c)(d),j.$i?(d=(0,D.$ud)(d,U.sep),d.endsWith(":")&&(d+=U.sep)):(d=(0,D.$ud)(d,U.sep),d||(d=U.sep)),d}t.$Je=e;function l(d){const y=(0,U.$6c)(d);return j.$i?d.length>3?!1:i(y)&&(d.length===2||y.charCodeAt(2)===92):y===U.$5c.sep}t.$Ke=l;function i(d,y=j.$i){return y?c(d.charCodeAt(0))&&d.charCodeAt(1)===58:!1}t.$Le=i;function u(d,y=j.$i){return i(d,y)?d[0]:void 0}t.$Me=u;function h(d,y,B){return y.length>d.length?-1:d===y?0:(B&&(d=d.toLowerCase(),y=y.toLowerCase()),d.indexOf(y))}t.$Ne=h;function p(d){const y=d.split(":");let B,Z,A;for(const w of y){const z=Number(w);(0,E.$me)(z)?Z===void 0?Z=z:A===void 0&&(A=z):B=B?[B,w].join(":"):w}if(!B)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:B,line:Z!==void 0?Z:void 0,column:A!==void 0?A:Z!==void 0?1:void 0}}t.$Oe=p;const L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",S="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function P(d,y,B=8){let Z="";for(let w=0;w<B;w++){let z;w===0&&j.$i&&!y&&(B===3||B===4)?z=S:z=L,Z+=z.charAt(Math.floor(Math.random()*z.length))}let A;return y?A=`${y}-${Z}`:A=Z,d?(0,U.$8c)(d,A):A}t.$Pe=P}),define(rt[20],lt([0,1,5]),function(st,t,U){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Cr=t.$Br=t.$Ar=t.$zr=t.$yr=void 0,t.$yr=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});const j={".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".ics":"text/calendar",".js":"text/javascript",".mjs":"text/javascript",".txt":"text/plain",".xml":"text/xml"},D={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".opus":"audio/opus",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function E(b){const k=(0,U.$ad)(b),$=j[k.toLowerCase()];return $!==void 0?$:H(b)}t.$zr=E;function H(b){const k=(0,U.$ad)(b);return D[k.toLowerCase()]}t.$Ar=H;function V(b){for(const k in D)if(D[k]===b)return k}t.$Br=V;const I=/^(.+)\/(.+?)(;.+)?$/;function f(b,k){const $=I.exec(b);return $?`${$[1].toLowerCase()}/${$[2].toLowerCase()}${$[3]??""}`:k?void 0:b}t.$Cr=f}),define(rt[11],lt([0,1,4,2,12]),function(st,t,U,j,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COI=t.$1e=t.$Ze=t.$Ye=t.$Xe=t.$We=t.$Ve=t.$Ue=t.$Te=t.Schemas=void 0;var E;(function(f){f.inMemory="inmemory",f.vscode="vscode",f.internal="private",f.walkThrough="walkThrough",f.walkThroughSnippet="walkThroughSnippet",f.http="http",f.https="https",f.file="file",f.mailto="mailto",f.untitled="untitled",f.data="data",f.command="command",f.vscodeRemote="vscode-remote",f.vscodeRemoteResource="vscode-remote-resource",f.vscodeManagedRemoteResource="vscode-managed-remote-resource",f.vscodeUserData="vscode-userdata",f.vscodeCustomEditor="vscode-custom-editor",f.vscodeNotebookCell="vscode-notebook-cell",f.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",f.vscodeNotebookCellOutput="vscode-notebook-cell-output",f.vscodeInteractiveInput="vscode-interactive-input",f.vscodeSettings="vscode-settings",f.vscodeWorkspaceTrust="vscode-workspace-trust",f.vscodeTerminal="vscode-terminal",f.vscodeChatSesssion="vscode-chat-editor",f.webviewPanel="webview-panel",f.vscodeWebview="vscode-webview",f.extension="extension",f.vscodeFileResource="vscode-file",f.tmp="tmp",f.vsls="vsls",f.vscodeSourceControl="vscode-scm"})(E||(t.Schemas=E={})),t.$Te="vscode-tkn",t.$Ue="tkn";class H{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f=`/${E.vscodeRemoteResource}`}setPreferredWebSchema(b){this.d=b}setDelegate(b){this.e=b}setServerRootPath(b){this.f=`${b}/${E.vscodeRemoteResource}`}set(b,k,$){this.a[b]=k,this.b[b]=$}setConnectionToken(b,k){this.c[b]=k}getPreferredWebSchema(){return this.d}rewrite(b){if(this.e)try{return this.e(b)}catch(s){return U.$Y(s),b}const k=b.authority;let $=this.a[k];$&&$.indexOf(":")!==-1&&$.indexOf("[")===-1&&($=`[${$}]`);const O=this.b[k],m=this.c[k];let a=`path=${encodeURIComponent(b.path)}`;return typeof m=="string"&&(a+=`&${t.$Ue}=${encodeURIComponent(m)}`),D.URI.from({scheme:j.$o?this.d:E.vscodeRemoteResource,authority:`${$}:${O}`,path:this.f,query:a})}}t.$Ve=new H,t.$We="vs/../../extensions",t.$Xe="vs/../../node_modules",t.$Ye="vs/../../node_modules.asar",t.$Ze="vs/../../node_modules.asar.unpacked";class V{static{this.a="vscode-app"}asBrowserUri(b){const k=this.b(b,st);return this.uriToBrowserUri(k)}uriToBrowserUri(b){return b.scheme===E.vscodeRemote?t.$Ve.rewrite(b):b.scheme===E.file&&(j.$m||j.$p&&j.$g.origin===`${E.vscodeFileResource}://${V.a}`)?b.with({scheme:E.vscodeFileResource,authority:b.authority||V.a,query:null,fragment:null}):b}asFileUri(b){const k=this.b(b,st);return this.uriToFileUri(k)}uriToFileUri(b){return b.scheme===E.vscodeFileResource?b.with({scheme:E.file,authority:b.authority!==V.a?b.authority:null,query:null,fragment:null}):b}b(b,k){return D.URI.isUri(b)?b:D.URI.parse(k.toUrl(b))}}t.$1e=new V;var I;(function(f){const b=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);f.CoopAndCoep=Object.freeze(b.get("3"));const k="vscode-coi";function $(m){let a;typeof m=="string"?a=new URL(m).searchParams:m instanceof URL?a=m.searchParams:D.URI.isUri(m)&&(a=new URL(m.toString(!0)).searchParams);const s=a?.get(k);if(s)return b.get(s)}f.getHeadersFromQuery=$;function O(m,a,s){if(!globalThis.crossOriginIsolated)return;const c=a&&s?"3":s?"2":"1";m instanceof URLSearchParams?m.set(k,c):m[k]=c}f.addSearchParam=O})(I||(t.COI=I={}))}),define(rt[21],lt([0,1,10,11,5,2,3,12]),function(st,t,U,j,D,E,H,V){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$gg=t.DataUri=t.$fg=t.$eg=t.$dg=t.$cg=t.$bg=t.$ag=t.$_f=t.$$f=t.$0f=t.$9f=t.$8f=t.$7f=t.$6f=t.$5f=t.$4f=t.$3f=t.$2f=t.$1f=t.$Zf=t.$Yf=t.$Xf=t.$Wf=void 0;function I(O){return(0,V.$Se)(O,!0)}t.$Wf=I;class f{constructor(m){this.a=m}compare(m,a,s=!1){return m===a?0:(0,H.$Ed)(this.getComparisonKey(m,s),this.getComparisonKey(a,s))}isEqual(m,a,s=!1){return m===a?!0:!m||!a?!1:this.getComparisonKey(m,s)===this.getComparisonKey(a,s)}getComparisonKey(m,a=!1){return m.with({path:this.a(m)?m.path.toLowerCase():void 0,fragment:a?null:void 0}).toString()}ignorePathCasing(m){return this.a(m)}isEqualOrParent(m,a,s=!1){if(m.scheme===a.scheme){if(m.scheme===j.Schemas.file)return U.$He(I(m),I(a),this.a(m))&&m.query===a.query&&(s||m.fragment===a.fragment);if((0,t.$bg)(m.authority,a.authority))return U.$He(m.path,a.path,this.a(m),"/")&&m.query===a.query&&(s||m.fragment===a.fragment)}return!1}joinPath(m,...a){return V.URI.joinPath(m,...a)}basenameOrAuthority(m){return(0,t.$6f)(m)||m.authority}basename(m){return D.$5c.basename(m.path)}extname(m){return D.$5c.extname(m.path)}dirname(m){if(m.path.length===0)return m;let a;return m.scheme===j.Schemas.file?a=V.URI.file(D.$$c(I(m))).path:(a=D.$5c.dirname(m.path),m.authority&&a.length&&a.charCodeAt(0)!==47&&(console.error(`dirname("${m.toString})) resulted in a relative path`),a="/")),m.with({path:a})}normalizePath(m){if(!m.path.length)return m;let a;return m.scheme===j.Schemas.file?a=V.URI.file(D.$6c(I(m))).path:a=D.$5c.normalize(m.path),m.with({path:a})}relativePath(m,a){if(m.scheme!==a.scheme||!(0,t.$bg)(m.authority,a.authority))return;if(m.scheme===j.Schemas.file){const e=D.$0c(I(m),I(a));return E.$i?U.$Be(e):e}let s=m.path||"/";const c=a.path||"/";if(this.a(m)){let e=0;for(const l=Math.min(s.length,c.length);e<l&&!(s.charCodeAt(e)!==c.charCodeAt(e)&&s.charAt(e).toLowerCase()!==c.charAt(e).toLowerCase());e++);s=c.substr(0,e)+s.substr(e)}return D.$5c.relative(s,c)}resolvePath(m,a){if(m.scheme===j.Schemas.file){const s=V.URI.file(D.$9c(I(m),a));return m.with({authority:s.authority,path:s.path})}return a=U.$Ce(a),m.with({path:D.$5c.resolve(m.path,a)})}isAbsolutePath(m){return!!m.path&&m.path[0]==="/"}isEqualAuthority(m,a){return m===a||m!==void 0&&a!==void 0&&(0,H.$Ld)(m,a)}hasTrailingPathSeparator(m,a=D.sep){if(m.scheme===j.Schemas.file){const s=I(m);return s.length>U.$De(s).length&&s[s.length-1]===a}else{const s=m.path;return s.length>1&&s.charCodeAt(s.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(m.fsPath)}}removeTrailingPathSeparator(m,a=D.sep){return(0,t.$cg)(m,a)?m.with({path:m.path.substr(0,m.path.length-1)}):m}addTrailingPathSeparator(m,a=D.sep){let s=!1;if(m.scheme===j.Schemas.file){const c=I(m);s=c!==void 0&&c.length===U.$De(c).length&&c[c.length-1]===a}else{a="/";const c=m.path;s=c.length===1&&c.charCodeAt(c.length-1)===47}return!s&&!(0,t.$cg)(m,a)?m.with({path:m.path+"/"}):m}}t.$Xf=f,t.$Yf=new f(()=>!1),t.$Zf=new f(O=>O.scheme===j.Schemas.file?!E.$k:!0),t.$1f=new f(O=>!0),t.$2f=t.$Yf.isEqual.bind(t.$Yf),t.$3f=t.$Yf.isEqualOrParent.bind(t.$Yf),t.$4f=t.$Yf.getComparisonKey.bind(t.$Yf),t.$5f=t.$Yf.basenameOrAuthority.bind(t.$Yf),t.$6f=t.$Yf.basename.bind(t.$Yf),t.$7f=t.$Yf.extname.bind(t.$Yf),t.$8f=t.$Yf.dirname.bind(t.$Yf),t.$9f=t.$Yf.joinPath.bind(t.$Yf),t.$0f=t.$Yf.normalizePath.bind(t.$Yf),t.$$f=t.$Yf.relativePath.bind(t.$Yf),t.$_f=t.$Yf.resolvePath.bind(t.$Yf),t.$ag=t.$Yf.isAbsolutePath.bind(t.$Yf),t.$bg=t.$Yf.isEqualAuthority.bind(t.$Yf),t.$cg=t.$Yf.hasTrailingPathSeparator.bind(t.$Yf),t.$dg=t.$Yf.removeTrailingPathSeparator.bind(t.$Yf),t.$eg=t.$Yf.addTrailingPathSeparator.bind(t.$Yf);function b(O,m){const a=[];for(let s=0;s<O.length;s++){const c=m(O[s]);O.some((e,l)=>l===s?!1:(0,t.$3f)(c,m(e)))||a.push(O[s])}return a}t.$fg=b;var k;(function(O){O.META_DATA_LABEL="label",O.META_DATA_DESCRIPTION="description",O.META_DATA_SIZE="size",O.META_DATA_MIME="mime";function m(a){const s=new Map;a.path.substring(a.path.indexOf(";")+1,a.path.lastIndexOf(";")).split(";").forEach(l=>{const[i,u]=l.split(":");i&&u&&s.set(i,u)});const e=a.path.substring(0,a.path.indexOf(";"));return e&&s.set(O.META_DATA_MIME,e),s}O.parseMetaData=m})(k||(t.DataUri=k={}));function $(O,m,a){if(m){let s=O.path;return s&&s[0]!==D.$5c.sep&&(s=D.$5c.sep+s),O.with({scheme:a,authority:m,path:s})}return O.with({scheme:a})}t.$gg=$}),define(rt[22],lt([0,1,40,4,23,7,21,2,15]),function(st,t,U,j,D,E,H,V,I){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Sg=t.$Rg=t.$Qg=t.Promises=t.$Pg=t.$Og=t.$Ng=t.$Mg=t.$Lg=t.$Kg=t.$Jg=t.$Ig=t.$Hg=t.$Gg=t.$Fg=t.$Eg=t.$Dg=t.$Cg=t.$Bg=t.$Ag=t.$zg=t.$yg=t.$xg=t.$wg=t.$vg=t.$ug=t.$tg=t.$sg=t.$rg=t.$qg=t.$pg=t.$og=t.$ng=t.$mg=t.$lg=t.$kg=t.$jg=t.$ig=t.$hg=void 0;function f(n){return!!n&&typeof n.then=="function"}t.$hg=f;function b(n){const r=new U.$oc,o=n(r.token),g=new Promise((R,F)=>{const X=r.token.onCancellationRequested(()=>{X.dispose(),r.dispose(),F(new j.$3)});Promise.resolve(o).then(it=>{X.dispose(),r.dispose(),R(it)},it=>{X.dispose(),r.dispose(),F(it)})});return new class{cancel(){r.cancel()}then(R,F){return g.then(R,F)}catch(R){return this.then(void 0,R)}finally(R){return g.finally(R)}}}t.$ig=b;function k(n,r,o){return new Promise((g,R)=>{const F=r.onCancellationRequested(()=>{F.dispose(),g(o)});n.then(g,R).finally(()=>F.dispose())})}t.$jg=k;function $(n,r){return new Promise((o,g)=>{const R=r.onCancellationRequested(()=>{R.dispose(),g(new j.$3)});n.then(o,g).finally(()=>R.dispose())})}t.$kg=$;async function O(n){let r=-1;const o=n.map((g,R)=>g.then(F=>(r=R,F)));try{return await Promise.race(o)}finally{n.forEach((g,R)=>{R!==r&&g.cancel()})}}t.$lg=O;function m(n,r,o){let g;const R=setTimeout(()=>{g?.(void 0),o?.()},r);return Promise.race([n.finally(()=>clearTimeout(R)),new Promise(F=>g=F)])}t.$mg=m;function a(n){return new Promise((r,o)=>{const g=n();f(g)?g.then(r,o):r(g)})}t.$ng=a;class s{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(r){if(this.f)throw new Error("Throttler is disposed");if(this.a){if(this.d=r,!this.b){const o=()=>{if(this.b=null,this.f)return;const g=this.queue(this.d);return this.d=null,g};this.b=new Promise(g=>{this.a.then(o,o).then(g)})}return new Promise((o,g)=>{this.b.then(o,g)})}return this.a=r(),new Promise((o,g)=>{this.a.then(R=>{this.a=null,o(R)},R=>{this.a=null,g(R)})})}dispose(){this.f=!0}}t.$og=s;class c{constructor(){this.a=Promise.resolve(null)}queue(r){return this.a=this.a.then(()=>r(),()=>r())}}t.$pg=c;class e{constructor(){this.a=new Map}queue(r,o){const R=(this.a.get(r)??Promise.resolve()).catch(()=>{}).then(o).finally(()=>{this.a.get(r)===R&&this.a.delete(r)});return this.a.set(r,R),R}}t.$qg=e;const l=(n,r)=>{let o=!0;const g=setTimeout(()=>{o=!1,r()},n);return{isTriggered:()=>o,dispose:()=>{clearTimeout(g),o=!1}}},i=n=>{let r=!0;return queueMicrotask(()=>{r&&(r=!1,n())}),{isTriggered:()=>r,dispose:()=>{r=!1}}};class u{constructor(r){this.defaultDelay=r,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(r,o=this.defaultDelay){this.g=r,this.h(),this.b||(this.b=new Promise((R,F)=>{this.d=R,this.f=F}).then(()=>{if(this.b=null,this.d=null,this.g){const R=this.g;return this.g=null,R()}}));const g=()=>{this.a=null,this.d?.(null)};return this.a=o===I.$bc?i(g):l(o,g),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new j.$3),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}t.$rg=u;class h{constructor(r){this.a=new u(r),this.b=new s}trigger(r,o){return this.a.trigger(()=>this.b.queue(r),o)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}t.$sg=h;class p{constructor(){this.a=!1,this.b=new Promise((r,o)=>{this.d=r})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}t.$tg=p;class L extends p{constructor(r){super(),this.f=setTimeout(()=>this.open(),r)}open(){clearTimeout(this.f),super.open()}}t.$ug=L;function S(n,r){return r?new Promise((o,g)=>{const R=setTimeout(()=>{F.dispose(),o()},n),F=r.onCancellationRequested(()=>{clearTimeout(R),F.dispose(),g(new j.$3)})}):b(o=>S(n,o))}t.$vg=S;function P(n,r=0){const o=setTimeout(n,r);return(0,E.$jb)(()=>clearTimeout(o))}t.$wg=P;function d(n){const r=[];let o=0;const g=n.length;function R(){return o<g?n[o++]():null}function F(X){X!=null&&r.push(X);const it=R();return it?it.then(F):Promise.resolve(r)}return Promise.resolve(null).then(F)}t.$xg=d;function y(n,r=g=>!!g,o=null){let g=0;const R=n.length,F=()=>{if(g>=R)return Promise.resolve(o);const X=n[g++];return Promise.resolve(X()).then(ct=>r(ct)?Promise.resolve(ct):F())};return F()}t.$yg=y;function B(n,r=g=>!!g,o=null){if(n.length===0)return Promise.resolve(o);let g=n.length;const R=()=>{g=-1;for(const F of n)F.cancel?.()};return new Promise((F,X)=>{for(const it of n)it.then(ct=>{--g>=0&&r(ct)?(R(),F(ct)):g===0&&F(o)}).catch(ct=>{--g>=0&&(R(),X(ct))})})}t.$zg=B;class Z{constructor(r){this.a=0,this.d=r,this.f=[],this.b=0,this.g=new D.$ec}get onDrained(){return this.g.event}get size(){return this.a}queue(r){return this.a++,new Promise((o,g)=>{this.f.push({factory:r,c:o,e:g}),this.h()})}h(){for(;this.f.length&&this.b<this.d;){const r=this.f.shift();this.b++;const o=r.factory();o.then(r.c,r.e),o.then(()=>this.j(),()=>this.j())}}j(){this.a--,this.b--,this.f.length>0?this.h():this.g.fire()}dispose(){this.g.dispose()}}t.$Ag=Z;class A extends Z{constructor(){super(1)}}t.$Bg=A;class w{constructor(){this.a=new N,this.b=0}queue(r){return this.a.isRunning()?this.a.queue(()=>this.a.run(this.b++,r())):this.a.run(this.b++,r())}}t.$Cg=w;class z{constructor(){this.a=new Map,this.b=new Set}async whenDrained(){if(this.d())return;const r=new W;return this.b.add(r),r.p}d(){for(const[,r]of this.a)if(r.size>0)return!1;return!0}queueFor(r,o=H.$Yf){const g=o.getComparisonKey(r);let R=this.a.get(g);return R||(R=new A,D.Event.once(R.onDrained)(()=>{R?.dispose(),this.a.delete(g),this.f()}),this.a.set(g,R)),R}f(){this.d()&&this.g()}g(){for(const r of this.b)r.complete();this.b.clear()}dispose(){for(const[,r]of this.a)r.dispose();this.a.clear(),this.g()}}t.$Dg=z;class K{constructor(r,o){this.a=-1,typeof r=="function"&&typeof o=="number"&&this.setIfNotSet(r,o)}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(r,o){this.cancel(),this.a=setTimeout(()=>{this.a=-1,r()},o)}setIfNotSet(r,o){this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,r()},o))}}t.$Eg=K;class _{constructor(){this.a=-1}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearInterval(this.a),this.a=-1)}cancelAndSet(r,o){this.cancel(),this.a=setInterval(()=>{r()},o)}}t.$Fg=_;class x{constructor(r,o){this.b=-1,this.a=r,this.d=o,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(r=this.d){this.cancel(),this.b=setTimeout(this.f,r)}get delay(){return this.d}set delay(r){this.d=r}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}t.$Gg=x;class et{constructor(r,o){o%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${o}ms is not a multiple of 1000ms.`),this.a=r,this.b=o,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(r=this.b){r%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${r}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(r/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}t.$Hg=et;class tt extends x{constructor(r,o){super(r,o),this.j=[]}work(r){this.j.push(r),this.isScheduled()||this.schedule()}h(){const r=this.j;this.j=[],this.a?.(r)}dispose(){this.j=[],super.dispose()}}t.$Ig=tt;class C extends E.$lb{constructor(r,o){super(),this.g=r,this.h=o,this.a=[],this.b=this.B(new E.$mb),this.f=!1}get pending(){return this.a.length}work(r){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+r.length>this.g.maxBufferedWork)return!1}else if(this.pending+r.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const o of r)this.a.push(o);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new x(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}t.$Jg=C,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?t.$Kg=n=>{(0,V.$A)(()=>{if(r)return;const o=Date.now()+15;n(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,o-Date.now())}}))});let r=!1;return{dispose(){r||(r=!0)}}}:t.$Kg=(n,r)=>{const o=requestIdleCallback(n,typeof r=="number"?{timeout:r}:void 0);let g=!1;return{dispose(){g||(g=!0,cancelIdleCallback(o))}}}}();class G{constructor(r){this.d=!1,this.a=()=>{try{this.f=r()}catch(o){this.g=o}finally{this.d=!0}},this.b=(0,t.$Kg)(()=>this.a())}dispose(){this.b.dispose()}get value(){if(this.d||(this.b.dispose(),this.a()),this.g)throw this.g;return this.f}get isInitialized(){return this.d}}t.$Lg=G;async function nt(n,r,o){let g;for(let R=0;R<o;R++)try{return await n()}catch(F){g=F,await S(r)}throw g}t.$Mg=nt;class N{isRunning(r){return typeof r=="number"?this.a?.taskId===r:!!this.a}get running(){return this.a?.promise}cancelRunning(){this.a?.cancel()}run(r,o,g){return this.a={taskId:r,cancel:()=>g?.(),promise:o},o.then(()=>this.d(r),()=>this.d(r)),o}d(r){this.a&&r===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const r=this.b;this.b=void 0,r.run().then(r.promiseResolve,r.promiseReject)}}queue(r){if(this.b)this.b.run=r;else{let o,g;const R=new Promise((F,X)=>{o=F,g=X});this.b={run:r,promise:R,promiseResolve:o,promiseReject:g}}return this.b.promise}hasQueued(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}t.$Ng=N;class q{constructor(r,o=()=>Date.now()){this.d=r,this.f=o,this.a=0,this.b=0}increment(){const r=this.f();return r-this.a>this.d&&(this.a=r,this.b=0),this.b++,this.b}}t.$Og=q;var M;(function(n){n[n.Resolved=0]="Resolved",n[n.Rejected=1]="Rejected"})(M||(M={}));class W{get isRejected(){return this.d?.outcome===1}get isResolved(){return this.d?.outcome===0}get isSettled(){return!!this.d}get value(){return this.d?.outcome===0?this.d?.value:void 0}constructor(){this.p=new Promise((r,o)=>{this.a=r,this.b=o})}complete(r){return new Promise(o=>{this.a(r),this.d={outcome:0,value:r},o()})}error(r){return new Promise(o=>{this.b(r),this.d={outcome:1,value:r},o()})}cancel(){return this.error(new j.$3)}}t.$Pg=W;var Y;(function(n){async function r(g){let R;const F=await Promise.all(g.map(X=>X.then(it=>it,it=>{R||(R=it)})));if(typeof R<"u")throw R;return F}n.settled=r;function o(g){return new Promise(async(R,F)=>{try{await g(R,F)}catch(X){F(X)}})}n.withAsyncBody=o})(Y||(t.Promises=Y={}));var Q;(function(n){n[n.Initial=0]="Initial",n[n.DoneOK=1]="DoneOK",n[n.DoneError=2]="DoneError"})(Q||(Q={}));class J{static fromArray(r){return new J(o=>{o.emitMany(r)})}static fromPromise(r){return new J(async o=>{o.emitMany(await r)})}static fromPromises(r){return new J(async o=>{await Promise.all(r.map(async g=>o.emitOne(await g)))})}static merge(r){return new J(async o=>{await Promise.all(r.map(async g=>{for await(const R of g)o.emitOne(R)}))})}static{this.EMPTY=J.fromArray([])}constructor(r){this.a=0,this.b=[],this.d=null,this.f=new D.$ec,queueMicrotask(async()=>{const o={emitOne:g=>this.g(g),emitMany:g=>this.h(g),reject:g=>this.k(g)};try{await Promise.resolve(r(o)),this.j()}catch(g){this.k(g)}finally{o.emitOne=void 0,o.emitMany=void 0,o.reject=void 0}})}[Symbol.asyncIterator](){let r=0;return{next:async()=>{do{if(this.a===2)throw this.d;if(r<this.b.length)return{done:!1,value:this.b[r++]};if(this.a===1)return{done:!0,value:void 0};await D.Event.toPromise(this.f.event)}while(!0)}}}static map(r,o){return new J(async g=>{for await(const R of r)g.emitOne(o(R))})}map(r){return J.map(this,r)}static filter(r,o){return new J(async g=>{for await(const R of r)o(R)&&g.emitOne(R)})}filter(r){return J.filter(this,r)}static coalesce(r){return J.filter(r,o=>!!o)}coalesce(){return J.coalesce(this)}static async toPromise(r){const o=[];for await(const g of r)o.push(g);return o}toPromise(){return J.toPromise(this)}g(r){this.a===0&&(this.b.push(r),this.f.fire())}h(r){this.a===0&&(this.b=this.b.concat(r),this.f.fire())}j(){this.a===0&&(this.a=1,this.f.fire())}k(r){this.a===0&&(this.a=2,this.d=r,this.f.fire())}}t.$Qg=J;class T extends J{constructor(r,o){super(o),this.l=r}cancel(){this.l.cancel()}}t.$Rg=T;function v(n){const r=new U.$oc,o=n(r.token);return new T(r,async g=>{const R=r.token.onCancellationRequested(()=>{R.dispose(),r.dispose(),g.reject(new j.$3)});try{for await(const F of o){if(r.token.isCancellationRequested)return;g.emitOne(F)}R.dispose(),r.dispose()}catch(F){R.dispose(),r.dispose(),g.reject(F)}})}t.$Sg=v}),define(rt[24],lt([0,1,41,22,10,13,5,2,3]),function(st,t,U,j,D,E,H,V,I){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$ij=t.$hj=t.$gj=t.$fj=t.$ej=t.$dj=t.$cj=t.$bj=t.$aj=t.$_i=void 0;function f(){return Object.create(null)}t.$_i=f,t.$aj="**",t.$bj="/";const b="[/\\\\]",k="[^/\\\\]",$=/\//g;function O(N,q){switch(N){case 0:return"";case 1:return`${k}*?`;default:return`(?:${b}|${k}+${b}${q?`|${b}${k}+`:""})*?`}}function m(N,q){if(!N)return[];const M=[];let W=!1,Y=!1,Q="";for(const J of N){switch(J){case q:if(!W&&!Y){M.push(Q),Q="";continue}break;case"{":W=!0;break;case"}":W=!1;break;case"[":Y=!0;break;case"]":Y=!1;break}Q+=J}return Q&&M.push(Q),M}t.$cj=m;function a(N){if(!N)return"";let q="";const M=m(N,t.$bj);if(M.every(W=>W===t.$aj))q=".*";else{let W=!1;M.forEach((Y,Q)=>{if(Y===t.$aj){if(W)return;q+=O(2,Q===M.length-1)}else{let J=!1,T="",v=!1,n="";for(const r of Y){if(r!=="}"&&J){T+=r;continue}if(v&&(r!=="]"||!n)){let o;r==="-"?o=r:(r==="^"||r==="!")&&!n?o="^":r===t.$bj?o="":o=(0,I.$pd)(r),n+=o;continue}switch(r){case"{":J=!0;continue;case"[":v=!0;continue;case"}":{const g=`(?:${m(T,",").map(R=>a(R)).join("|")})`;q+=g,J=!1,T="";break}case"]":{q+="["+n+"]",v=!1,n="";break}case"?":q+=k;continue;case"*":q+=O(1);continue;default:q+=(0,I.$pd)(r)}}Q<M.length-1&&(M[Q+1]!==t.$aj||Q+2<M.length)&&(q+=b)}W=Y===t.$aj})}return q}const s=/^\*\*\/\*\.[\w\.-]+$/,c=/^\*\*\/([\w\.-]+)\/?$/,e=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,l=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,i=/^\*\*((\/[\w\.-]+)+)\/?$/,u=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,h=new E.$qi(1e4),p=function(){return!1},L=function(){return null};function S(N,q){if(!N)return L;let M;typeof N!="string"?M=N.pattern:M=N,M=M.trim();const W=`${M}_${!!q.trimForExclusions}`;let Y=h.get(W);if(Y)return P(Y,N);let Q;return s.test(M)?Y=y(M.substr(4),M):(Q=c.exec(d(M,q)))?Y=B(Q[1],M):(q.trimForExclusions?l:e).test(M)?Y=Z(M,q):(Q=i.exec(d(M,q)))?Y=A(Q[1].substr(1),M,!0):(Q=u.exec(d(M,q)))?Y=A(Q[1],M,!1):Y=w(M),h.set(W,Y),P(Y,N)}function P(N,q){if(typeof q=="string")return N;const M=function(W,Y){return(0,D.$He)(W,q.base,!V.$k)?N((0,I.$td)(W.substr(q.base.length),H.sep),Y):null};return M.allBasenames=N.allBasenames,M.allPaths=N.allPaths,M.basenames=N.basenames,M.patterns=N.patterns,M}function d(N,q){return q.trimForExclusions&&N.endsWith("/**")?N.substr(0,N.length-2):N}function y(N,q){return function(M,W){return typeof M=="string"&&M.endsWith(N)?q:null}}function B(N,q){const M=`/${N}`,W=`\\${N}`,Y=function(J,T){return typeof J!="string"?null:T?T===N?q:null:J===N||J.endsWith(M)||J.endsWith(W)?q:null},Q=[N];return Y.basenames=Q,Y.patterns=[q],Y.allBasenames=Q,Y}function Z(N,q){const M=G(N.slice(1,-1).split(",").map(T=>S(T,q)).filter(T=>T!==L),N),W=M.length;if(!W)return L;if(W===1)return M[0];const Y=function(T,v){for(let n=0,r=M.length;n<r;n++)if(M[n](T,v))return N;return null},Q=M.find(T=>!!T.allBasenames);Q&&(Y.allBasenames=Q.allBasenames);const J=M.reduce((T,v)=>v.allPaths?T.concat(v.allPaths):T,[]);return J.length&&(Y.allPaths=J),Y}function A(N,q,M){const W=H.sep===H.$5c.sep,Y=W?N:N.replace($,H.sep),Q=H.sep+Y,J=H.$5c.sep+N;let T;return M?T=function(v,n){return typeof v=="string"&&(v===Y||v.endsWith(Q)||!W&&(v===N||v.endsWith(J)))?q:null}:T=function(v,n){return typeof v=="string"&&(v===Y||!W&&v===N)?q:null},T.allPaths=[(M?"*/":"./")+N],T}function w(N){try{const q=new RegExp(`^${a(N)}$`);return function(M){return q.lastIndex=0,typeof M=="string"&&q.test(M)?N:null}}catch{return L}}function z(N,q,M){return!N||typeof q!="string"?!1:K(N)(q,void 0,M)}t.$dj=z;function K(N,q={}){if(!N)return p;if(typeof N=="string"||_(N)){const M=S(N,q);if(M===L)return p;const W=function(Y,Q){return!!M(Y,Q)};return M.allBasenames&&(W.allBasenames=M.allBasenames),M.allPaths&&(W.allPaths=M.allPaths),W}return tt(N,q)}t.$ej=K;function _(N){const q=N;return q?typeof q.base=="string"&&typeof q.pattern=="string":!1}t.$fj=_;function x(N){return N.allBasenames||[]}t.$gj=x;function et(N){return N.allPaths||[]}t.$hj=et;function tt(N,q){const M=G(Object.getOwnPropertyNames(N).map(T=>C(T,N[T],q)).filter(T=>T!==L)),W=M.length;if(!W)return L;if(!M.some(T=>!!T.requiresSiblings)){if(W===1)return M[0];const T=function(r,o){let g;for(let R=0,F=M.length;R<F;R++){const X=M[R](r,o);if(typeof X=="string")return X;(0,j.$hg)(X)&&(g||(g=[]),g.push(X))}return g?(async()=>{for(const R of g){const F=await R;if(typeof F=="string")return F}return null})():null},v=M.find(r=>!!r.allBasenames);v&&(T.allBasenames=v.allBasenames);const n=M.reduce((r,o)=>o.allPaths?r.concat(o.allPaths):r,[]);return n.length&&(T.allPaths=n),T}const Y=function(T,v,n){let r,o;for(let g=0,R=M.length;g<R;g++){const F=M[g];F.requiresSiblings&&n&&(v||(v=(0,H.$_c)(T)),r||(r=v.substr(0,v.length-(0,H.$ad)(T).length)));const X=F(T,v,r,n);if(typeof X=="string")return X;(0,j.$hg)(X)&&(o||(o=[]),o.push(X))}return o?(async()=>{for(const g of o){const R=await g;if(typeof R=="string")return R}return null})():null},Q=M.find(T=>!!T.allBasenames);Q&&(Y.allBasenames=Q.allBasenames);const J=M.reduce((T,v)=>v.allPaths?T.concat(v.allPaths):T,[]);return J.length&&(Y.allPaths=J),Y}function C(N,q,M){if(q===!1)return L;const W=S(N,M);if(W===L)return L;if(typeof q=="boolean")return W;if(q){const Y=q.when;if(typeof Y=="string"){const Q=(J,T,v,n)=>{if(!n||!W(J,T))return null;const r=Y.replace("$(basename)",()=>v),o=n(r);return(0,j.$hg)(o)?o.then(g=>g?N:null):o?N:null};return Q.requiresSiblings=!0,Q}}return W}function G(N,q){const M=N.filter(T=>!!T.basenames);if(M.length<2)return N;const W=M.reduce((T,v)=>{const n=v.basenames;return n?T.concat(n):T},[]);let Y;if(q){Y=[];for(let T=0,v=W.length;T<v;T++)Y.push(q)}else Y=M.reduce((T,v)=>{const n=v.patterns;return n?T.concat(n):T},[]);const Q=function(T,v){if(typeof T!="string")return null;if(!v){let r;for(r=T.length;r>0;r--){const o=T.charCodeAt(r-1);if(o===47||o===92)break}v=T.substr(r)}const n=W.indexOf(v);return n!==-1?Y[n]:null};Q.basenames=W,Q.patterns=Y,Q.allBasenames=W;const J=N.filter(T=>!T.basenames);return J.push(Q),J}function nt(N,q){return(0,U.$$e)(N,q,(M,W)=>typeof M=="string"&&typeof W=="string"?M===W:typeof M!="string"&&typeof W!="string"?M.base===W.base&&M.pattern===W.pattern:!1)}t.$ij=nt}),define(rt[25],lt([0,1,3,2,6]),function(st,t,U,j,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$6r=t.$5r=t.$4r=void 0;let E;function H(){return E||(E=new TextDecoder("UTF-16LE")),E}let V;function I(){return V||(V=new TextDecoder("UTF-16BE")),V}let f;function b(){return f||(f=j.$C()?H():I()),f}t.$4r=b;function k(m,a,s){const c=new Uint16Array(m.buffer,a,s);return s>0&&(c[0]===65279||c[0]===65534)?$(m,a,s):H().decode(c)}t.$5r=k;function $(m,a,s){const c=[];let e=0;for(let l=0;l<s;l++){const i=D.$Gc(m,a);a+=2,c[e++]=String.fromCharCode(i)}return c.join("")}class O{constructor(a){this.a=a|0,this.b=new Uint16Array(this.a),this.c=null,this.d=0}reset(){this.c=null,this.d=0}build(){return this.c!==null?(this.f(),this.c.join("")):this.e()}e(){if(this.d===0)return"";const a=new Uint16Array(this.b.buffer,0,this.d);return b().decode(a)}f(){const a=this.e();this.d=0,this.c===null?this.c=[a]:this.c[this.c.length]=a}appendCharCode(a){const s=this.a-this.d;s<=1&&(s===0||U.$Pd(a))&&this.f(),this.b[this.d++]=a}appendASCIICharCode(a){this.d===this.a&&this.f(),this.b[this.d++]=a}appendString(a){const s=a.length;if(this.d+s>=this.a){this.f(),this.c[this.c.length]=a;return}for(let c=0;c<s;c++)this.b[this.d++]=a.charCodeAt(c)}}t.$6r=O}),define(rt[26],lt([0,1,6,25]),function(st,t,U,j){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$8r=t.$7r=void 0;function D(I){return I.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class E{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(f,b,k,$){this.oldPosition=f,this.oldText=b,this.newPosition=k,this.newText=$}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${D(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${D(this.oldText)}")`:`(replace@${this.oldPosition} "${D(this.oldText)}" with "${D(this.newText)}")`}static a(f){return 4+2*f.length}static c(f,b,k){const $=b.length;U.$Jc(f,$,k),k+=4;for(let O=0;O<$;O++)U.$Hc(f,b.charCodeAt(O),k),k+=2;return k}static d(f,b){const k=U.$Ic(f,b);return b+=4,(0,j.$5r)(f,b,k)}writeSize(){return 4+4+E.a(this.oldText)+E.a(this.newText)}write(f,b){return U.$Jc(f,this.oldPosition,b),b+=4,U.$Jc(f,this.newPosition,b),b+=4,b=E.c(f,this.oldText,b),b=E.c(f,this.newText,b),b}static read(f,b,k){const $=U.$Ic(f,b);b+=4;const O=U.$Ic(f,b);b+=4;const m=E.d(f,b);b+=E.a(m);const a=E.d(f,b);return b+=E.a(a),k.push(new E($,m,O,a)),b}}t.$7r=E;function H(I,f){return I===null||I.length===0?f:new V(I,f).compress()}t.$8r=H;class V{constructor(f,b){this.a=f,this.c=b,this.d=[],this.e=0,this.f=this.a.length,this.g=0,this.h=this.c.length,this.j=0}compress(){let f=0,b=0,k=this.n(f),$=this.l(b);for(;f<this.f||b<this.h;){if(k===null){this.k($),$=this.l(++b);continue}if($===null){this.m(k),k=this.n(++f);continue}if($.oldEnd<=k.newPosition){this.k($),$=this.l(++b);continue}if(k.newEnd<=$.oldPosition){this.m(k),k=this.n(++f);continue}if($.oldPosition<k.newPosition){const[c,e]=V.r($,k.newPosition-$.oldPosition);this.k(c),$=e;continue}if(k.newPosition<$.oldPosition){const[c,e]=V.q(k,$.oldPosition-k.newPosition);this.m(c),k=e;continue}let a,s;if($.oldEnd===k.newEnd)a=k,s=$,k=this.n(++f),$=this.l(++b);else if($.oldEnd<k.newEnd){const[c,e]=V.q(k,$.oldLength);a=c,s=$,k=e,$=this.l(++b)}else{const[c,e]=V.r($,k.newLength);a=k,s=c,k=this.n(++f),$=e}this.d[this.e++]=new E(a.oldPosition,a.oldText,s.newPosition,s.newText),this.g+=a.newLength-a.oldLength,this.j+=s.newLength-s.oldLength}const O=V.s(this.d);return V.t(O)}k(f){this.d[this.e++]=V.o(this.g,f),this.j+=f.newLength-f.oldLength}l(f){return f<this.h?this.c[f]:null}m(f){this.d[this.e++]=V.p(this.j,f),this.g+=f.newLength-f.oldLength}n(f){return f<this.f?this.a[f]:null}static o(f,b){return new E(b.oldPosition-f,b.oldText,b.newPosition,b.newText)}static p(f,b){return new E(b.oldPosition,b.oldText,b.newPosition+f,b.newText)}static q(f,b){const k=f.newText.substr(0,b),$=f.newText.substr(b);return[new E(f.oldPosition,f.oldText,f.newPosition,k),new E(f.oldEnd,"",f.newPosition+b,$)]}static r(f,b){const k=f.oldText.substr(0,b),$=f.oldText.substr(b);return[new E(f.oldPosition,k,f.newPosition,f.newText),new E(f.oldPosition+b,$,f.newEnd,"")]}static s(f){if(f.length===0)return f;const b=[];let k=0,$=f[0];for(let O=1;O<f.length;O++){const m=f[O];$.oldEnd===m.oldPosition?$=new E($.oldPosition,$.oldText+m.oldText,$.newPosition,$.newText+m.newText):(b[k++]=$,$=m)}return b[k++]=$,b}static t(f){if(f.length===0)return f;const b=[];let k=0;for(let $=0;$<f.length;$++){const O=f[$];O.oldText!==O.newText&&(b[k++]=O)}return b}}}),define(rt[27],lt([0,1,23,3,9,18,8,16,26,7]),function(st,t,U,j,D,E,H,V,I,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$hC=void 0;class b extends f.$lb{constructor($,O,m,a,s,c,e){super(),this.k=this.B(new U.$ec),this.onDidChangeContent=this.k.event,this.f=O,this.j=!c,this.g=a,this.h=s,this.c=new H.$gC($,m,e)}equals($){return!($ instanceof b)||this.f!==$.f||this.getEOL()!==$.getEOL()?!1:this.c.equal($.c)}mightContainRTL(){return this.g}mightContainUnusualLineTerminators(){return this.h}resetMightContainUnusualLineTerminators(){this.h=!1}mightContainNonBasicASCII(){return this.j}getBOM(){return this.f}getEOL(){return this.c.getEOL()}createSnapshot($){return this.c.createSnapshot($?this.f:"")}getOffsetAt($,O){return this.c.getOffsetAt($,O)}getPositionAt($){return this.c.getPositionAt($)}getRangeAt($,O){const m=$+O,a=this.getPositionAt($),s=this.getPositionAt(m);return new D.$Ur(a.lineNumber,a.column,s.lineNumber,s.column)}getValueInRange($,O=0){if($.isEmpty())return"";const m=this.l(O);return this.c.getValueInRange($,m)}getValueLengthInRange($,O=0){if($.isEmpty())return 0;if($.startLineNumber===$.endLineNumber)return $.endColumn-$.startColumn;const m=this.getOffsetAt($.startLineNumber,$.startColumn),a=this.getOffsetAt($.endLineNumber,$.endColumn);let s=0;const c=this.l(O),e=this.getEOL();if(c.length!==e.length){const l=c.length-e.length,i=$.endLineNumber-$.startLineNumber;s=l*i}return a-m+s}getCharacterCountInRange($,O=0){if(this.j){let m=0;const a=$.startLineNumber,s=$.endLineNumber;for(let c=a;c<=s;c++){const e=this.getLineContent(c),l=c===a?$.startColumn-1:0,i=c===s?$.endColumn-1:e.length;for(let u=l;u<i;u++)j.$Pd(e.charCodeAt(u))?(m=m+1,u=u+1):m=m+1}return m+=this.l(O).length*(s-a),m}return this.getValueLengthInRange($,O)}getLength(){return this.c.getLength()}getLineCount(){return this.c.getLineCount()}getLinesContent(){return this.c.getLinesContent()}getLineContent($){return this.c.getLineContent($)}getLineCharCode($,O){return this.c.getLineCharCode($,O)}getCharCode($){return this.c.getCharCode($)}getLineLength($){return this.c.getLineLength($)}getLineMinColumn($){return 1}getLineMaxColumn($){return this.getLineLength($)+1}getLineFirstNonWhitespaceColumn($){const O=j.$Ad(this.getLineContent($));return O===-1?0:O+1}getLineLastNonWhitespaceColumn($){const O=j.$Cd(this.getLineContent($));return O===-1?0:O+2}l($){switch($){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL($){this.c.setEOL($)}applyEdits($,O,m){let a=this.g,s=this.h,c=this.j,e=!0,l=[];for(let P=0;P<$.length;P++){const d=$[P];e&&d._isTracked&&(e=!1);const y=d.range;if(d.text){let z=!0;c||(z=!j.$1d(d.text),c=z),!a&&z&&(a=j.$Zd(d.text)),!s&&z&&(s=j.$3d(d.text))}let B="",Z=0,A=0,w=0;if(d.text){let z;[Z,A,w,z]=(0,V.$ls)(d.text);const K=this.getEOL();z===0||z===(K===`\r
`?2:1)?B=d.text:B=d.text.replace(/\r\n|\r|\n/g,K)}l[P]={sortIndex:P,identifier:d.identifier||null,range:y,rangeOffset:this.getOffsetAt(y.startLineNumber,y.startColumn),rangeLength:this.getValueLengthInRange(y),text:B,eolCount:Z,firstLineLength:A,lastLineLength:w,forceMoveMarkers:!!d.forceMoveMarkers,isAutoWhitespaceEdit:d.isAutoWhitespaceEdit||!1}}l.sort(b.p);let i=!1;for(let P=0,d=l.length-1;P<d;P++){const y=l[P].range.getEndPosition(),B=l[P+1].range.getStartPosition();if(B.isBeforeOrEqual(y)){if(B.isBefore(y))throw new Error("Overlapping ranges are not allowed!");i=!0}}e&&(l=this.m(l));const u=m||O?b._getInverseEditRanges(l):[],h=[];if(O)for(let P=0;P<l.length;P++){const d=l[P],y=u[P];if(d.isAutoWhitespaceEdit&&d.range.isEmpty())for(let B=y.startLineNumber;B<=y.endLineNumber;B++){let Z="";B===y.startLineNumber&&(Z=this.getLineContent(d.range.startLineNumber),j.$Ad(Z)!==-1)||h.push({lineNumber:B,oldContent:Z})}}let p=null;if(m){let P=0;p=[];for(let d=0;d<l.length;d++){const y=l[d],B=u[d],Z=this.getValueInRange(y.range),A=y.rangeOffset+P;P+=y.text.length-Z.length,p[d]={sortIndex:y.sortIndex,identifier:y.identifier,range:B,text:Z,textChange:new I.$7r(y.rangeOffset,Z,A,y.text)}}i||p.sort((d,y)=>d.sortIndex-y.sortIndex)}this.g=a,this.h=s,this.j=c;const L=this.n(l);let S=null;if(O&&h.length>0){h.sort((P,d)=>d.lineNumber-P.lineNumber),S=[];for(let P=0,d=h.length;P<d;P++){const y=h[P].lineNumber;if(P>0&&h[P-1].lineNumber===y)continue;const B=h[P].oldContent,Z=this.getLineContent(y);Z.length===0||Z===B||j.$Ad(Z)!==-1||S.push(y)}}return this.k.fire(),new E.$7t(p,L,S)}m($){return $.length<1e3?$:[this._toSingleEditOperation($)]}_toSingleEditOperation($){let O=!1;const m=$[0].range,a=$[$.length-1].range,s=new D.$Ur(m.startLineNumber,m.startColumn,a.endLineNumber,a.endColumn);let c=m.startLineNumber,e=m.startColumn;const l=[];for(let L=0,S=$.length;L<S;L++){const P=$[L],d=P.range;O=O||P.forceMoveMarkers,l.push(this.getValueInRange(new D.$Ur(c,e,d.startLineNumber,d.startColumn))),P.text.length>0&&l.push(P.text),c=d.endLineNumber,e=d.endColumn}const i=l.join(""),[u,h,p]=(0,V.$ls)(i);return{sortIndex:0,identifier:$[0].identifier,range:s,rangeOffset:this.getOffsetAt(s.startLineNumber,s.startColumn),rangeLength:this.getValueLengthInRange(s,0),text:i,eolCount:u,firstLineLength:h,lastLineLength:p,forceMoveMarkers:O,isAutoWhitespaceEdit:!1}}n($){$.sort(b.s);const O=[];for(let m=0;m<$.length;m++){const a=$[m],s=a.range.startLineNumber,c=a.range.startColumn,e=a.range.endLineNumber,l=a.range.endColumn;if(s===e&&c===l&&a.text.length===0)continue;a.text?(this.c.delete(a.rangeOffset,a.rangeLength),this.c.insert(a.rangeOffset,a.text,!0)):this.c.delete(a.rangeOffset,a.rangeLength);const i=new D.$Ur(s,c,e,l);O.push({range:i,rangeLength:a.rangeLength,text:a.text,rangeOffset:a.rangeOffset,forceMoveMarkers:a.forceMoveMarkers})}return O}findMatchesLineByLine($,O,m,a){return this.c.findMatchesLineByLine($,O,m,a)}getPieceTree(){return this.c}static _getInverseEditRange($,O){const m=$.startLineNumber,a=$.startColumn,[s,c,e]=(0,V.$ls)(O);let l;if(O.length>0){const i=s+1;i===1?l=new D.$Ur(m,a,m,a+c):l=new D.$Ur(m,a,m+i-1,e+1)}else l=new D.$Ur(m,a,m,a);return l}static _getInverseEditRanges($){const O=[];let m=0,a=0,s=null;for(let c=0,e=$.length;c<e;c++){const l=$[c];let i,u;s?s.range.endLineNumber===l.range.startLineNumber?(i=m,u=a+(l.range.startColumn-s.range.endColumn)):(i=m+(l.range.startLineNumber-s.range.endLineNumber),u=l.range.startColumn):(i=l.range.startLineNumber,u=l.range.startColumn);let h;if(l.text.length>0){const p=l.eolCount+1;p===1?h=new D.$Ur(i,u,i,u+l.firstLineLength):h=new D.$Ur(i,u,i+p-1,l.lastLineLength+1)}else h=new D.$Ur(i,u,i,u);m=h.endLineNumber,a=h.endColumn,O.push(h),s=l}return O}static p($,O){const m=D.$Ur.compareRangesUsingEnds($.range,O.range);return m===0?$.sortIndex-O.sortIndex:m}static s($,O){const m=D.$Ur.compareRangesUsingEnds($.range,O.range);return m===0?O.sortIndex-$.sortIndex:-m}}t.$hC=b}),define(rt[28],lt([0,1,3,8,27]),function(st,t,U,j,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$iC=void 0;class E{constructor(I,f,b,k,$,O,m,a,s){this.a=I,this.b=f,this.c=b,this.d=k,this.e=$,this.f=O,this.g=m,this.h=a,this.j=s}k(I){const f=this.c+this.d+this.e,b=this.c+this.e;return f===0?I===1?`
`:`\r
`:b>f/2?`\r
`:`
`}create(I){const f=this.k(I),b=this.a;if(this.j&&(f===`\r
`&&(this.c>0||this.d>0)||f===`
`&&(this.c>0||this.e>0)))for(let $=0,O=b.length;$<O;$++){const m=b[$].buffer.replace(/\r\n|\r|\n/g,f),a=(0,j.$cC)(m);b[$]=new j.$fC(m,a)}const k=new D.$hC(b,this.b,f,this.f,this.g,this.h,this.j);return{textBuffer:k,disposable:k}}getFirstLineText(I){return this.a[0].buffer.substr(0,I).split(/\r\n|\r|\n/)[0]}}class H{constructor(){this.a=[],this.b="",this.c=!1,this.d=0,this.e=[],this.f=0,this.g=0,this.h=0,this.j=!1,this.k=!1,this.l=!0}acceptChunk(I){if(I.length===0)return;this.a.length===0&&U.$9d(I)&&(this.b=U.$8d,I=I.substr(1));const f=I.charCodeAt(I.length-1);f===13||f>=55296&&f<=56319?(this.m(I.substr(0,I.length-1),!1),this.c=!0,this.d=f):(this.m(I,!1),this.c=!1,this.d=f)}m(I,f){!f&&I.length===0||(this.c?this.n(String.fromCharCode(this.d)+I):this.n(I))}n(I){const f=(0,j.$dC)(this.e,I);this.a.push(new j.$fC(I,f.lineStarts)),this.f+=f.cr,this.g+=f.lf,this.h+=f.crlf,f.isBasicASCII||(this.l=!1,this.j||(this.j=U.$Zd(I)),this.k||(this.k=U.$3d(I)))}finish(I=!0){return this.o(),new E(this.a,this.b,this.f,this.g,this.h,this.j,this.k,this.l,I)}o(){if(this.a.length===0&&this.m("",!0),this.c){this.c=!1;const I=this.a[this.a.length-1];I.buffer+=String.fromCharCode(this.d);const f=(0,j.$cC)(I.buffer);I.lineStarts=f,this.d===13&&this.f++}}}t.$iC=H}),define(rt[29],lt([30,31]),function(st,t){return st.create("vs/platform/contextkey/common/contextkey",t)}),define(rt[32],lt([30,31]),function(st,t){return st.create("vs/platform/contextkey/common/scanner",t)}),define(rt[33],lt([0,1,4,32]),function(st,t,U,j){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$si=t.TokenType=void 0;var D;(function(f){f[f.LParen=0]="LParen",f[f.RParen=1]="RParen",f[f.Neg=2]="Neg",f[f.Eq=3]="Eq",f[f.NotEq=4]="NotEq",f[f.Lt=5]="Lt",f[f.LtEq=6]="LtEq",f[f.Gt=7]="Gt",f[f.GtEq=8]="GtEq",f[f.RegexOp=9]="RegexOp",f[f.RegexStr=10]="RegexStr",f[f.True=11]="True",f[f.False=12]="False",f[f.In=13]="In",f[f.Not=14]="Not",f[f.And=15]="And",f[f.Or=16]="Or",f[f.Str=17]="Str",f[f.QuotedStr=18]="QuotedStr",f[f.Error=19]="Error",f[f.EOF=20]="EOF"})(D||(t.TokenType=D={}));function E(...f){switch(f.length){case 1:return(0,j.localize)(0,null,f[0]);case 2:return(0,j.localize)(1,null,f[0],f[1]);case 3:return(0,j.localize)(2,null,f[0],f[1],f[2]);default:return}}const H=(0,j.localize)(3,null),V=(0,j.localize)(4,null);class I{constructor(){this.c="",this.d=0,this.e=0,this.f=[],this.g=[],this.m=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(b){switch(b.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return b.isTripleEq?"===":"==";case 4:return b.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return b.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return b.lexeme;case 18:return b.lexeme;case 19:return b.lexeme;case 20:return"EOF";default:throw(0,U.$6)(`unhandled token type: ${JSON.stringify(b)}; have you forgotten to add a case?`)}}static{this.a=new Set(["i","g","s","m","y","u"].map(b=>b.charCodeAt(0)))}static{this.b=new Map([["not",14],["in",13],["false",12],["true",11]])}get errors(){return this.g}reset(b){return this.c=b,this.d=0,this.e=0,this.f=[],this.g=[],this}scan(){for(;!this.r();)switch(this.d=this.e,this.i()){case 40:this.k(0);break;case 41:this.k(1);break;case 33:if(this.h(61)){const k=this.h(61);this.f.push({type:4,offset:this.d,isTripleEq:k})}else this.k(2);break;case 39:this.o();break;case 47:this.q();break;case 61:if(this.h(61)){const k=this.h(61);this.f.push({type:3,offset:this.d,isTripleEq:k})}else this.h(126)?this.k(9):this.l(E("==","=~"));break;case 60:this.k(this.h(61)?6:5);break;case 62:this.k(this.h(61)?8:7);break;case 38:this.h(38)?this.k(15):this.l(E("&&"));break;case 124:this.h(124)?this.k(16):this.l(E("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this.n()}return this.d=this.e,this.k(20),Array.from(this.f)}h(b){return this.r()||this.c.charCodeAt(this.e)!==b?!1:(this.e++,!0)}i(){return this.c.charCodeAt(this.e++)}j(){return this.r()?0:this.c.charCodeAt(this.e)}k(b){this.f.push({type:b,offset:this.d})}l(b){const k=this.d,$=this.c.substring(this.d,this.e),O={type:19,offset:this.d,lexeme:$};this.g.push({offset:k,lexeme:$,additionalInfo:b}),this.f.push(O)}n(){this.m.lastIndex=this.d;const b=this.m.exec(this.c);if(b){this.e=this.d+b[0].length;const k=this.c.substring(this.d,this.e),$=I.b.get(k);$?this.k($):this.f.push({type:17,lexeme:k,offset:this.d})}}o(){for(;this.j()!==39&&!this.r();)this.i();if(this.r()){this.l(H);return}this.i(),this.f.push({type:18,lexeme:this.c.substring(this.d+1,this.e-1),offset:this.d+1})}q(){let b=this.e,k=!1,$=!1;for(;;){if(b>=this.c.length){this.e=b,this.l(V);return}const m=this.c.charCodeAt(b);if(k)k=!1;else if(m===47&&!$){b++;break}else m===91?$=!0:m===92?k=!0:m===93&&($=!1);b++}for(;b<this.c.length&&I.a.has(this.c.charCodeAt(b));)b++;this.e=b;const O=this.c.substring(this.d,this.e);this.f.push({type:10,lexeme:O,offset:this.d})}r(){return this.e>=this.c.length}}t.$si=I}),define(rt[34],lt([0,1]),function(st,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$qh=t.$ph=t.$oh=t._util=void 0;var U;(function(H){H.serviceIds=new Map,H.DI_TARGET="$di$target",H.DI_DEPENDENCIES="$di$dependencies";function V(I){return I[H.DI_DEPENDENCIES]||[]}H.getServiceDependencies=V})(U||(t._util=U={})),t.$oh=D("instantiationService");function j(H,V,I){V[U.DI_TARGET]===V?V[U.DI_DEPENDENCIES].push({id:H,index:I}):(V[U.DI_DEPENDENCIES]=[{id:H,index:I}],V[U.DI_TARGET]=V)}function D(H){if(U.serviceIds.has(H))return U.serviceIds.get(H);const V=function(I,f,b){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");j(V,I,b)};return V.toString=()=>H,U.serviceIds.set(H,V),V}t.$ph=D;function E(H){return H}t.$qh=E}),define(rt[35],lt([0,1,2,3,33,34,29,4]),function(st,t,U,j,D,E,H,V){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Qi=t.$Pi=t.$Oi=t.$Ni=t.$Mi=t.$Li=t.$Ki=t.$Ji=t.$Ii=t.$Hi=t.$Gi=t.$Fi=t.$Ei=t.$Di=t.$Ci=t.$Bi=t.$Ai=t.$zi=t.$yi=t.$xi=t.$wi=t.$vi=t.$ui=t.ContextKeyExprType=t.$ti=void 0;const I=new Map;I.set("false",!1),I.set("true",!0),I.set("isMac",U.$j),I.set("isLinux",U.$k),I.set("isWindows",U.$i),I.set("isWeb",U.$o),I.set("isMacNative",U.$j&&!U.$o),I.set("isEdge",U.$G),I.set("isFirefox",U.$E),I.set("isChrome",U.$D),I.set("isSafari",U.$F);function f(v,n){if(I.get(v)!==void 0)throw(0,V.$5)("contextkey.setConstant(k, v) invoked with already set constant `k`");I.set(v,n)}t.$ti=f;const b=Object.prototype.hasOwnProperty;var k;(function(v){v[v.False=0]="False",v[v.True=1]="True",v[v.Defined=2]="Defined",v[v.Not=3]="Not",v[v.Equals=4]="Equals",v[v.NotEquals=5]="NotEquals",v[v.And=6]="And",v[v.Regex=7]="Regex",v[v.NotRegex=8]="NotRegex",v[v.Or=9]="Or",v[v.In=10]="In",v[v.NotIn=11]="NotIn",v[v.Greater=12]="Greater",v[v.GreaterEquals=13]="GreaterEquals",v[v.Smaller=14]="Smaller",v[v.SmallerEquals=15]="SmallerEquals"})(k||(t.ContextKeyExprType=k={}));const $={regexParsingWithErrorRecovery:!0},O=(0,H.localize)(0,null),m=(0,H.localize)(1,null),a=(0,H.localize)(2,null),s=(0,H.localize)(3,null),c=(0,H.localize)(4,null),e=(0,H.localize)(5,null),l=(0,H.localize)(6,null),i=(0,H.localize)(7,null);class u{static{this.c=new Error}get lexingErrors(){return this.d.errors}get parsingErrors(){return this.h}constructor(n=$){this.k=n,this.d=new D.$si,this.f=[],this.g=0,this.h=[],this.v=/g|y/g}parse(n){if(n===""){this.h.push({message:O,offset:0,lexeme:"",additionalInfo:m});return}this.f=this.d.reset(n).scan(),this.g=0,this.h=[];try{const r=this.l();if(!this.E()){const o=this.D(),g=o.type===17?e:void 0;throw this.h.push({message:c,offset:o.offset,lexeme:D.$si.getLexeme(o),additionalInfo:g}),u.c}return r}catch(r){if(r!==u.c)throw r;return}}l(){return this.m()}m(){const n=[this.o()];for(;this.y(16);){const r=this.o();n.push(r)}return n.length===1?n[0]:h.or(...n)}o(){const n=[this.s()];for(;this.y(15);){const r=this.s();n.push(r)}return n.length===1?n[0]:h.and(...n)}s(){if(this.y(2)){const n=this.D();switch(n.type){case 11:return this.z(),P.INSTANCE;case 12:return this.z(),d.INSTANCE;case 0:{this.z();const r=this.l();return this.A(1,s),r?.negate()}case 17:return this.z(),z.create(n.lexeme);default:throw this.B("KEY | true | false | '(' expression ')'",n)}}return this.t()}t(){const n=this.D();switch(n.type){case 11:return this.z(),h.true();case 12:return this.z(),h.false();case 0:{this.z();const r=this.l();return this.A(1,s),r}case 17:{const r=n.lexeme;if(this.z(),this.y(9)){const g=this.D();if(!this.k.regexParsingWithErrorRecovery){if(this.z(),g.type!==10)throw this.B("REGEX",g);const R=g.lexeme,F=R.lastIndexOf("/"),X=F===R.length-1?void 0:this.w(R.substring(F+1));let it;try{it=new RegExp(R.substring(1,F),X)}catch{throw this.B("REGEX",g)}return C.create(r,it)}switch(g.type){case 10:case 19:{const R=[g.lexeme];this.z();let F=this.D(),X=0;for(let ut=0;ut<g.lexeme.length;ut++)g.lexeme.charCodeAt(ut)===40?X++:g.lexeme.charCodeAt(ut)===41&&X--;for(;!this.E()&&F.type!==15&&F.type!==16;){switch(F.type){case 0:X++;break;case 1:X--;break;case 10:case 18:for(let ut=0;ut<F.lexeme.length;ut++)F.lexeme.charCodeAt(ut)===40?X++:g.lexeme.charCodeAt(ut)===41&&X--}if(X<0)break;R.push(D.$si.getLexeme(F)),this.z(),F=this.D()}const it=R.join(""),ct=it.lastIndexOf("/"),ht=ct===it.length-1?void 0:this.w(it.substring(ct+1));let at;try{at=new RegExp(it.substring(1,ct),ht)}catch{throw this.B("REGEX",g)}return h.regex(r,at)}case 18:{const R=g.lexeme;this.z();let F=null;if(!(0,j.$ld)(R)){const X=R.indexOf("/"),it=R.lastIndexOf("/");if(X!==it&&X>=0){const ct=R.slice(X+1,it),ht=R[it+1]==="i"?"i":"";try{F=new RegExp(ct,ht)}catch{throw this.B("REGEX",g)}}}if(F===null)throw this.B("REGEX",g);return C.create(r,F)}default:throw this.B("REGEX",this.D())}}if(this.y(14)){this.A(13,a);const g=this.u();return h.notIn(r,g)}switch(this.D().type){case 3:{this.z();const g=this.u();if(this.x().type===18)return h.equals(r,g);switch(g){case"true":return h.has(r);case"false":return h.not(r);default:return h.equals(r,g)}}case 4:{this.z();const g=this.u();if(this.x().type===18)return h.notEquals(r,g);switch(g){case"true":return h.not(r);case"false":return h.has(r);default:return h.notEquals(r,g)}}case 5:return this.z(),et.create(r,this.u());case 6:return this.z(),tt.create(r,this.u());case 7:return this.z(),_.create(r,this.u());case 8:return this.z(),x.create(r,this.u());case 13:return this.z(),h.in(r,this.u());default:return h.has(r)}}case 20:throw this.h.push({message:l,offset:n.offset,lexeme:"",additionalInfo:i}),u.c;default:throw this.B(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this.D())}}u(){const n=this.D();switch(n.type){case 17:case 18:return this.z(),n.lexeme;case 11:return this.z(),"true";case 12:return this.z(),"false";case 13:return this.z(),"in";default:return""}}w(n){return n.replaceAll(this.v,"")}x(){return this.f[this.g-1]}y(n){return this.C(n)?(this.z(),!0):!1}z(){return this.E()||this.g++,this.x()}A(n,r){if(this.C(n))return this.z();throw this.B(r,this.D())}B(n,r,o){const g=(0,H.localize)(8,null,n,D.$si.getLexeme(r)),R=r.offset,F=D.$si.getLexeme(r);return this.h.push({message:g,offset:R,lexeme:F,additionalInfo:o}),u.c}C(n){return this.D().type===n}D(){return this.f[this.g]}E(){return this.D().type===20}}t.$ui=u;class h{static false(){return P.INSTANCE}static true(){return d.INSTANCE}static has(n){return y.create(n)}static equals(n,r){return B.create(n,r)}static notEquals(n,r){return w.create(n,r)}static regex(n,r){return C.create(n,r)}static in(n,r){return Z.create(n,r)}static notIn(n,r){return A.create(n,r)}static not(n){return z.create(n)}static and(...n){return N.create(n,null,!0)}static or(...n){return q.create(n,null,!0)}static greater(n,r){return _.create(n,r)}static greaterEquals(n,r){return x.create(n,r)}static smaller(n,r){return et.create(n,r)}static smallerEquals(n,r){return tt.create(n,r)}static{this.c=new u({regexParsingWithErrorRecovery:!1})}static deserialize(n){return n==null?void 0:this.c.parse(n)}}t.$vi=h;function p(v){const n=new u({regexParsingWithErrorRecovery:!1});return v.map(r=>(n.parse(r),n.lexingErrors.length>0?n.lexingErrors.map(o=>({errorMessage:o.additionalInfo?(0,H.localize)(9,null,o.additionalInfo):(0,H.localize)(10,null),offset:o.offset,length:o.lexeme.length})):n.parsingErrors.length>0?n.parsingErrors.map(o=>({errorMessage:o.additionalInfo?`${o.message}. ${o.additionalInfo}`:o.message,offset:o.offset,length:o.lexeme.length})):[]))}t.$wi=p;function L(v,n){const r=v?v.substituteConstants():void 0,o=n?n.substituteConstants():void 0;return!r&&!o?!0:!r||!o?!1:r.equals(o)}t.$xi=L;function S(v,n){return v.cmp(n)}class P{static{this.INSTANCE=new P}constructor(){this.type=0}cmp(n){return this.type-n.type}equals(n){return n.type===this.type}substituteConstants(){return this}evaluate(n){return!1}serialize(){return"false"}keys(){return[]}map(n){return this}negate(){return d.INSTANCE}}t.$yi=P;class d{static{this.INSTANCE=new d}constructor(){this.type=1}cmp(n){return this.type-n.type}equals(n){return n.type===this.type}substituteConstants(){return this}evaluate(n){return!0}serialize(){return"true"}keys(){return[]}map(n){return this}negate(){return P.INSTANCE}}t.$zi=d;class y{static create(n,r=null){const o=I.get(n);return typeof o=="boolean"?o?d.INSTANCE:P.INSTANCE:new y(n,r)}constructor(n,r){this.key=n,this.c=r,this.type=2}cmp(n){return n.type!==this.type?this.type-n.type:W(this.key,n.key)}equals(n){return n.type===this.type?this.key===n.key:!1}substituteConstants(){const n=I.get(this.key);return typeof n=="boolean"?n?d.INSTANCE:P.INSTANCE:this}evaluate(n){return!!n.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(n){return n.mapDefined(this.key)}negate(){return this.c||(this.c=z.create(this.key,this)),this.c}}t.$Ai=y;class B{static create(n,r,o=null){if(typeof r=="boolean")return r?y.create(n,o):z.create(n,o);const g=I.get(n);return typeof g=="boolean"?r===(g?"true":"false")?d.INSTANCE:P.INSTANCE:new B(n,r,o)}constructor(n,r,o){this.c=n,this.d=r,this.f=o,this.type=4}cmp(n){return n.type!==this.type?this.type-n.type:Y(this.c,this.d,n.c,n.d)}equals(n){return n.type===this.type?this.c===n.c&&this.d===n.d:!1}substituteConstants(){const n=I.get(this.c);if(typeof n=="boolean"){const r=n?"true":"false";return this.d===r?d.INSTANCE:P.INSTANCE}return this}evaluate(n){return n.getValue(this.c)==this.d}serialize(){return`${this.c} == '${this.d}'`}keys(){return[this.c]}map(n){return n.mapEquals(this.c,this.d)}negate(){return this.f||(this.f=w.create(this.c,this.d,this)),this.f}}t.$Bi=B;class Z{static create(n,r){return new Z(n,r)}constructor(n,r){this.d=n,this.f=r,this.type=10,this.c=null}cmp(n){return n.type!==this.type?this.type-n.type:Y(this.d,this.f,n.d,n.f)}equals(n){return n.type===this.type?this.d===n.d&&this.f===n.f:!1}substituteConstants(){return this}evaluate(n){const r=n.getValue(this.f),o=n.getValue(this.d);return Array.isArray(r)?r.includes(o):typeof o=="string"&&typeof r=="object"&&r!==null?b.call(r,o):!1}serialize(){return`${this.d} in '${this.f}'`}keys(){return[this.d,this.f]}map(n){return n.mapIn(this.d,this.f)}negate(){return this.c||(this.c=A.create(this.d,this.f)),this.c}}t.$Ci=Z;class A{static create(n,r){return new A(n,r)}constructor(n,r){this.d=n,this.f=r,this.type=11,this.c=Z.create(n,r)}cmp(n){return n.type!==this.type?this.type-n.type:this.c.cmp(n.c)}equals(n){return n.type===this.type?this.c.equals(n.c):!1}substituteConstants(){return this}evaluate(n){return!this.c.evaluate(n)}serialize(){return`${this.d} not in '${this.f}'`}keys(){return this.c.keys()}map(n){return n.mapNotIn(this.d,this.f)}negate(){return this.c}}t.$Di=A;class w{static create(n,r,o=null){if(typeof r=="boolean")return r?z.create(n,o):y.create(n,o);const g=I.get(n);return typeof g=="boolean"?r===(g?"true":"false")?P.INSTANCE:d.INSTANCE:new w(n,r,o)}constructor(n,r,o){this.c=n,this.d=r,this.f=o,this.type=5}cmp(n){return n.type!==this.type?this.type-n.type:Y(this.c,this.d,n.c,n.d)}equals(n){return n.type===this.type?this.c===n.c&&this.d===n.d:!1}substituteConstants(){const n=I.get(this.c);if(typeof n=="boolean"){const r=n?"true":"false";return this.d===r?P.INSTANCE:d.INSTANCE}return this}evaluate(n){return n.getValue(this.c)!=this.d}serialize(){return`${this.c} != '${this.d}'`}keys(){return[this.c]}map(n){return n.mapNotEquals(this.c,this.d)}negate(){return this.f||(this.f=B.create(this.c,this.d,this)),this.f}}t.$Ei=w;class z{static create(n,r=null){const o=I.get(n);return typeof o=="boolean"?o?P.INSTANCE:d.INSTANCE:new z(n,r)}constructor(n,r){this.c=n,this.d=r,this.type=3}cmp(n){return n.type!==this.type?this.type-n.type:W(this.c,n.c)}equals(n){return n.type===this.type?this.c===n.c:!1}substituteConstants(){const n=I.get(this.c);return typeof n=="boolean"?n?P.INSTANCE:d.INSTANCE:this}evaluate(n){return!n.getValue(this.c)}serialize(){return`!${this.c}`}keys(){return[this.c]}map(n){return n.mapNot(this.c)}negate(){return this.d||(this.d=y.create(this.c,this)),this.d}}t.$Fi=z;function K(v,n){if(typeof v=="string"){const r=parseFloat(v);isNaN(r)||(v=r)}return typeof v=="string"||typeof v=="number"?n(v):P.INSTANCE}class _{static create(n,r,o=null){return K(r,g=>new _(n,g,o))}constructor(n,r,o){this.c=n,this.d=r,this.f=o,this.type=12}cmp(n){return n.type!==this.type?this.type-n.type:Y(this.c,this.d,n.c,n.d)}equals(n){return n.type===this.type?this.c===n.c&&this.d===n.d:!1}substituteConstants(){return this}evaluate(n){return typeof this.d=="string"?!1:parseFloat(n.getValue(this.c))>this.d}serialize(){return`${this.c} > ${this.d}`}keys(){return[this.c]}map(n){return n.mapGreater(this.c,this.d)}negate(){return this.f||(this.f=tt.create(this.c,this.d,this)),this.f}}t.$Gi=_;class x{static create(n,r,o=null){return K(r,g=>new x(n,g,o))}constructor(n,r,o){this.c=n,this.d=r,this.f=o,this.type=13}cmp(n){return n.type!==this.type?this.type-n.type:Y(this.c,this.d,n.c,n.d)}equals(n){return n.type===this.type?this.c===n.c&&this.d===n.d:!1}substituteConstants(){return this}evaluate(n){return typeof this.d=="string"?!1:parseFloat(n.getValue(this.c))>=this.d}serialize(){return`${this.c} >= ${this.d}`}keys(){return[this.c]}map(n){return n.mapGreaterEquals(this.c,this.d)}negate(){return this.f||(this.f=et.create(this.c,this.d,this)),this.f}}t.$Hi=x;class et{static create(n,r,o=null){return K(r,g=>new et(n,g,o))}constructor(n,r,o){this.c=n,this.d=r,this.f=o,this.type=14}cmp(n){return n.type!==this.type?this.type-n.type:Y(this.c,this.d,n.c,n.d)}equals(n){return n.type===this.type?this.c===n.c&&this.d===n.d:!1}substituteConstants(){return this}evaluate(n){return typeof this.d=="string"?!1:parseFloat(n.getValue(this.c))<this.d}serialize(){return`${this.c} < ${this.d}`}keys(){return[this.c]}map(n){return n.mapSmaller(this.c,this.d)}negate(){return this.f||(this.f=x.create(this.c,this.d,this)),this.f}}t.$Ii=et;class tt{static create(n,r,o=null){return K(r,g=>new tt(n,g,o))}constructor(n,r,o){this.c=n,this.d=r,this.f=o,this.type=15}cmp(n){return n.type!==this.type?this.type-n.type:Y(this.c,this.d,n.c,n.d)}equals(n){return n.type===this.type?this.c===n.c&&this.d===n.d:!1}substituteConstants(){return this}evaluate(n){return typeof this.d=="string"?!1:parseFloat(n.getValue(this.c))<=this.d}serialize(){return`${this.c} <= ${this.d}`}keys(){return[this.c]}map(n){return n.mapSmallerEquals(this.c,this.d)}negate(){return this.f||(this.f=_.create(this.c,this.d,this)),this.f}}t.$Ji=tt;class C{static create(n,r){return new C(n,r)}constructor(n,r){this.d=n,this.f=r,this.type=7,this.c=null}cmp(n){if(n.type!==this.type)return this.type-n.type;if(this.d<n.d)return-1;if(this.d>n.d)return 1;const r=this.f?this.f.source:"",o=n.f?n.f.source:"";return r<o?-1:r>o?1:0}equals(n){if(n.type===this.type){const r=this.f?this.f.source:"",o=n.f?n.f.source:"";return this.d===n.d&&r===o}return!1}substituteConstants(){return this}evaluate(n){const r=n.getValue(this.d);return this.f?this.f.test(r):!1}serialize(){const n=this.f?`/${this.f.source}/${this.f.flags}`:"/invalid/";return`${this.d} =~ ${n}`}keys(){return[this.d]}map(n){return n.mapRegex(this.d,this.f)}negate(){return this.c||(this.c=G.create(this)),this.c}}t.$Ki=C;class G{static create(n){return new G(n)}constructor(n){this.c=n,this.type=8}cmp(n){return n.type!==this.type?this.type-n.type:this.c.cmp(n.c)}equals(n){return n.type===this.type?this.c.equals(n.c):!1}substituteConstants(){return this}evaluate(n){return!this.c.evaluate(n)}serialize(){return`!(${this.c.serialize()})`}keys(){return this.c.keys()}map(n){return new G(this.c.map(n))}negate(){return this.c}}t.$Li=G;function nt(v){let n=null;for(let r=0,o=v.length;r<o;r++){const g=v[r].substituteConstants();if(v[r]!==g&&n===null){n=[];for(let R=0;R<r;R++)n[R]=v[R]}n!==null&&(n[r]=g)}return n===null?v:n}class N{static create(n,r,o){return N.d(n,r,o)}constructor(n,r){this.expr=n,this.c=r,this.type=6}cmp(n){if(n.type!==this.type)return this.type-n.type;if(this.expr.length<n.expr.length)return-1;if(this.expr.length>n.expr.length)return 1;for(let r=0,o=this.expr.length;r<o;r++){const g=S(this.expr[r],n.expr[r]);if(g!==0)return g}return 0}equals(n){if(n.type===this.type){if(this.expr.length!==n.expr.length)return!1;for(let r=0,o=this.expr.length;r<o;r++)if(!this.expr[r].equals(n.expr[r]))return!1;return!0}return!1}substituteConstants(){const n=nt(this.expr);return n===this.expr?this:N.create(n,this.c,!1)}evaluate(n){for(let r=0,o=this.expr.length;r<o;r++)if(!this.expr[r].evaluate(n))return!1;return!0}static d(n,r,o){const g=[];let R=!1;for(const F of n)if(F){if(F.type===1){R=!0;continue}if(F.type===0)return P.INSTANCE;if(F.type===6){g.push(...F.expr);continue}g.push(F)}if(g.length===0&&R)return d.INSTANCE;if(g.length!==0){if(g.length===1)return g[0];g.sort(S);for(let F=1;F<g.length;F++)g[F-1].equals(g[F])&&(g.splice(F,1),F--);if(g.length===1)return g[0];for(;g.length>1;){const F=g[g.length-1];if(F.type!==9)break;g.pop();const X=g.pop(),it=g.length===0,ct=q.create(F.expr.map(ht=>N.create([ht,X],null,o)),null,it);ct&&(g.push(ct),g.sort(S))}if(g.length===1)return g[0];if(o){for(let F=0;F<g.length;F++)for(let X=F+1;X<g.length;X++)if(g[F].negate().equals(g[X]))return P.INSTANCE;if(g.length===1)return g[0]}return new N(g,r)}}serialize(){return this.expr.map(n=>n.serialize()).join(" && ")}keys(){const n=[];for(const r of this.expr)n.push(...r.keys());return n}map(n){return new N(this.expr.map(r=>r.map(n)),null)}negate(){if(!this.c){const n=[];for(const r of this.expr)n.push(r.negate());this.c=q.create(n,this,!0)}return this.c}}t.$Mi=N;class q{static create(n,r,o){return q.d(n,r,o)}constructor(n,r){this.expr=n,this.c=r,this.type=9}cmp(n){if(n.type!==this.type)return this.type-n.type;if(this.expr.length<n.expr.length)return-1;if(this.expr.length>n.expr.length)return 1;for(let r=0,o=this.expr.length;r<o;r++){const g=S(this.expr[r],n.expr[r]);if(g!==0)return g}return 0}equals(n){if(n.type===this.type){if(this.expr.length!==n.expr.length)return!1;for(let r=0,o=this.expr.length;r<o;r++)if(!this.expr[r].equals(n.expr[r]))return!1;return!0}return!1}substituteConstants(){const n=nt(this.expr);return n===this.expr?this:q.create(n,this.c,!1)}evaluate(n){for(let r=0,o=this.expr.length;r<o;r++)if(this.expr[r].evaluate(n))return!0;return!1}static d(n,r,o){let g=[],R=!1;if(n){for(let F=0,X=n.length;F<X;F++){const it=n[F];if(it){if(it.type===0){R=!0;continue}if(it.type===1)return d.INSTANCE;if(it.type===9){g=g.concat(it.expr);continue}g.push(it)}}if(g.length===0&&R)return P.INSTANCE;g.sort(S)}if(g.length!==0){if(g.length===1)return g[0];for(let F=1;F<g.length;F++)g[F-1].equals(g[F])&&(g.splice(F,1),F--);if(g.length===1)return g[0];if(o){for(let F=0;F<g.length;F++)for(let X=F+1;X<g.length;X++)if(g[F].negate().equals(g[X]))return d.INSTANCE;if(g.length===1)return g[0]}return new q(g,r)}}serialize(){return this.expr.map(n=>n.serialize()).join(" || ")}keys(){const n=[];for(const r of this.expr)n.push(...r.keys());return n}map(n){return new q(this.expr.map(r=>r.map(n)),null)}negate(){if(!this.c){const n=[];for(const r of this.expr)n.push(r.negate());for(;n.length>1;){const r=n.shift(),o=n.shift(),g=[];for(const R of T(r))for(const F of T(o))g.push(N.create([R,F],null,!1));n.unshift(q.create(g,null,!1))}this.c=q.create(n,this,!0)}return this.c}}t.$Ni=q;class M extends y{static{this.d=[]}static all(){return M.d.values()}constructor(n,r,o){super(n,null),this.f=r,typeof o=="object"?M.d.push({...o,key:n}):o!==!0&&M.d.push({key:n,description:o,type:r!=null?typeof r:void 0})}bindTo(n){return n.createKey(this.key,this.f)}getValue(n){return n.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(n){return B.create(this.key,n)}notEqualsTo(n){return w.create(this.key,n)}}t.$Oi=M,t.$Pi=(0,E.$ph)("contextKeyService");function W(v,n){return v<n?-1:v>n?1:0}function Y(v,n,r,o){return v<r?-1:v>r?1:n<o?-1:n>o?1:0}function Q(v,n){if(v.type===0||n.type===1)return!0;if(v.type===9)return n.type===9?J(v.expr,n.expr):!1;if(n.type===9){for(const r of n.expr)if(Q(v,r))return!0;return!1}if(v.type===6){if(n.type===6)return J(n.expr,v.expr);for(const r of v.expr)if(Q(r,n))return!0;return!1}return v.equals(n)}t.$Qi=Q;function J(v,n){let r=0,o=0;for(;r<v.length&&o<n.length;){const g=v[r].cmp(n[o]);if(g<0)return!1;g===0&&r++,o++}return r===v.length}function T(v){return v.type===9?v.expr:[v]}}),define(rt[36],lt([0,1,6,24,42,20,11,5,2,35]),function(st,t,U,j,D,E,H,V,I,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$TH=t.$SH=t.$RH=t.$QH=t.CellStatusbarAlignment=t.$PH=t.$OH=t.$NH=t.NotebookEditorPriority=t.$MH=t.$LH=t.$KH=t.$JH=t.CellUri=t.CellEditType=t.SelectionStateType=t.NotebookCellsChangeType=t.RendererMessagingSpec=t.NotebookRendererMatch=t.NotebookExecutionState=t.NotebookCellExecutionState=t.NotebookRunState=t.$IH=t.$HH=t.$GH=t.$FH=t.CellKind=t.$EH=t.$DH=t.$CH=void 0,t.$CH="workbench.editor.notebook",t.$DH="workbench.editor.notebookTextDiffEditor",t.$EH="workbench.editor.interactive";var b;(function(C){C[C.Markup=1]="Markup",C[C.Code=2]="Code"})(b||(t.CellKind=b={})),t.$FH=["application/json","application/javascript","text/html","image/svg+xml",E.$yr.latex,E.$yr.markdown,"image/png","image/jpeg",E.$yr.text],t.$GH=[E.$yr.latex,E.$yr.markdown,"application/json","text/html","image/svg+xml","image/png","image/jpeg",E.$yr.text],t.$HH=new Map([["ms-toolsai.jupyter",new Set(["jupyter-notebook","interactive"])],["ms-toolsai.jupyter-renderers",new Set(["jupyter-notebook","interactive"])]]),t.$IH="_notAvailable";var k;(function(C){C[C.Running=1]="Running",C[C.Idle=2]="Idle"})(k||(t.NotebookRunState=k={}));var $;(function(C){C[C.Unconfirmed=1]="Unconfirmed",C[C.Pending=2]="Pending",C[C.Executing=3]="Executing"})($||(t.NotebookCellExecutionState=$={}));var O;(function(C){C[C.Unconfirmed=1]="Unconfirmed",C[C.Pending=2]="Pending",C[C.Executing=3]="Executing"})(O||(t.NotebookExecutionState=O={}));var m;(function(C){C[C.WithHardKernelDependency=0]="WithHardKernelDependency",C[C.WithOptionalKernelDependency=1]="WithOptionalKernelDependency",C[C.Pure=2]="Pure",C[C.Never=3]="Never"})(m||(t.NotebookRendererMatch=m={}));var a;(function(C){C.Always="always",C.Never="never",C.Optional="optional"})(a||(t.RendererMessagingSpec=a={}));var s;(function(C){C[C.ModelChange=1]="ModelChange",C[C.Move=2]="Move",C[C.ChangeCellLanguage=5]="ChangeCellLanguage",C[C.Initialize=6]="Initialize",C[C.ChangeCellMetadata=7]="ChangeCellMetadata",C[C.Output=8]="Output",C[C.OutputItem=9]="OutputItem",C[C.ChangeCellContent=10]="ChangeCellContent",C[C.ChangeDocumentMetadata=11]="ChangeDocumentMetadata",C[C.ChangeCellInternalMetadata=12]="ChangeCellInternalMetadata",C[C.ChangeCellMime=13]="ChangeCellMime",C[C.Unknown=100]="Unknown"})(s||(t.NotebookCellsChangeType=s={}));var c;(function(C){C[C.Handle=0]="Handle",C[C.Index=1]="Index"})(c||(t.SelectionStateType=c={}));var e;(function(C){C[C.Replace=1]="Replace",C[C.Output=2]="Output",C[C.Metadata=3]="Metadata",C[C.CellLanguage=4]="CellLanguage",C[C.DocumentMetadata=5]="DocumentMetadata",C[C.Move=6]="Move",C[C.OutputItems=7]="OutputItems",C[C.PartialMetadata=8]="PartialMetadata",C[C.PartialInternalMetadata=9]="PartialInternalMetadata"})(e||(t.CellEditType=e={}));var l;(function(C){C.scheme=H.Schemas.vscodeNotebookCell;const G=["W","X","Y","Z","a","b","c","d","e","f"],nt=new RegExp(`^[${G.join("")}]+`),N=7;function q(T,v){const n=v.toString(N),o=`${n.length<G.length?G[n.length-1]:"z"}${n}s${(0,U.$Yc)(U.$Ec.fromString(T.scheme),!0,!0)}`;return T.with({scheme:C.scheme,fragment:o})}C.generate=q;function M(T){if(T.scheme!==C.scheme)return;const v=T.fragment.indexOf("s");if(v<0)return;const n=parseInt(T.fragment.substring(0,v).replace(nt,""),N),r=(0,U.$Xc)(T.fragment.substring(v+1)).toString();if(!isNaN(n))return{handle:n,notebook:T.with({scheme:r,fragment:null})}}C.parse=M;function W(T,v){return T.with({scheme:H.Schemas.vscodeNotebookCellOutput,fragment:`op${v??""},${T.scheme!==H.Schemas.file?T.scheme:""}`})}C.generateCellOutputUri=W;function Y(T){if(T.scheme!==H.Schemas.vscodeNotebookCellOutput)return;const v=/^op([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})?\,(.*)$/i.exec(T.fragment);if(!v)return;const n=v[1]&&v[1]!==""?v[1]:void 0,r=v[2];return{outputId:n,notebook:T.with({scheme:r||H.Schemas.file,fragment:null})}}C.parseCellOutputUri=Y;function Q(T,v,n){return C.generate(T,v).with({scheme:n})}C.generateCellPropertyUri=Q;function J(T,v){if(T.scheme===v)return C.parse(T.with({scheme:C.scheme}))}C.parseCellPropertyUri=J})(l||(t.CellUri=l={}));const i=C=>I.$i?C.replace(/\//g,"\\"):C;class u{constructor(G=[],nt=t.$FH){this.e=nt,this.d=[...new Set(G)].map(N=>({pattern:N,matches:j.$ej(i(N))}))}sort(G){const nt=new Map(D.Iterable.map(G,q=>[q,i(q)]));let N=[];for(const{matches:q}of this.d)for(const[M,W]of nt)if(q(W)){N.push(M),nt.delete(M);break}return nt.size&&(N=N.concat([...nt.keys()].sort((q,M)=>this.e.indexOf(q)-this.e.indexOf(M)))),N}prioritize(G,nt){const N=this.f(G);if(N===-1){this.d.unshift({pattern:G,matches:j.$ej(i(G))});return}const q=new Set(nt.map(W=>this.f(W,N)));q.delete(-1);const M=Array.from(q).sort();this.d.splice(N+1,0,...M.map(W=>this.d[W]));for(let W=M.length-1;W>=0;W--)this.d.splice(M[W],1)}toArray(){return this.d.map(G=>G.pattern)}f(G,nt=this.d.length){const N=i(G);for(let q=0;q<nt;q++)if(this.d[q].matches(N))return q;return-1}}t.$JH=u;function h(C,G,nt,N=(q,M)=>q===M){const q=[];function M(Q,J,T){if(J===0&&T.length===0)return;const v=q[q.length-1];v&&v.start+v.deleteCount===Q?(v.deleteCount+=J,v.toInsert.push(...T)):q.push({start:Q,deleteCount:J,toInsert:T})}let W=0,Y=0;for(;;){if(W===C.length){M(W,0,G.slice(Y));break}if(Y===G.length){M(W,C.length-W,[]);break}const Q=C[W],J=G[Y];if(N(Q,J)){W+=1,Y+=1;continue}nt(J)?(M(W,1,[]),W+=1):(M(W,0,[J]),Y+=1)}return q}t.$KH=h,t.$LH=new f.$Oi("notebookEditorCursorAtBoundary","none"),t.$MH=new f.$Oi("notebookEditorCursorAtLineBoundary","none");var p;(function(C){C.default="default",C.option="option"})(p||(t.NotebookEditorPriority=p={}));function L(C){const G=C;return!!((typeof G.include=="string"||j.$fj(G.include))&&(typeof G.exclude=="string"||j.$fj(G.exclude)))}t.$NH=L;function S(C,G,nt){if(Array.isArray(C.viewType)&&C.viewType.indexOf(G)>=0||C.viewType===G)return!0;if(C.filenamePattern){const N=L(C.filenamePattern)?C.filenamePattern.include:C.filenamePattern,q=L(C.filenamePattern)?C.filenamePattern.exclude:void 0;if(j.$dj(N,(0,V.$_c)(nt.fsPath).toLowerCase()))return!(q&&j.$dj(q,(0,V.$_c)(nt.fsPath).toLowerCase()))}return!1}t.$OH=S,t.$PH={displayOrder:"notebook.displayOrder",cellToolbarLocation:"notebook.cellToolbarLocation",cellToolbarVisibility:"notebook.cellToolbarVisibility",showCellStatusBar:"notebook.showCellStatusBar",textDiffEditorPreview:"notebook.diff.enablePreview",diffOverviewRuler:"notebook.diff.overviewRuler",experimentalInsertToolbarAlignment:"notebook.experimental.insertToolbarAlignment",compactView:"notebook.compactView",focusIndicator:"notebook.cellFocusIndicator",insertToolbarLocation:"notebook.insertToolbarLocation",globalToolbar:"notebook.globalToolbar",stickyScroll:"notebook.stickyScroll.enabled",undoRedoPerCell:"notebook.undoRedoPerCell",consolidatedOutputButton:"notebook.consolidatedOutputButton",showFoldingControls:"notebook.showFoldingControls",dragAndDropEnabled:"notebook.dragAndDropEnabled",cellEditorOptionsCustomizations:"notebook.editorOptionsCustomizations",consolidatedRunButton:"notebook.consolidatedRunButton",openGettingStarted:"notebook.experimental.openGettingStarted",globalToolbarShowLabel:"notebook.globalToolbarShowLabel",markupFontSize:"notebook.markup.fontSize",interactiveWindowCollapseCodeCells:"interactiveWindow.collapseCellInputCode",outputScrollingDeprecated:"notebook.experimental.outputScrolling",outputScrolling:"notebook.output.scrolling",textOutputLineLimit:"notebook.output.textLineLimit",formatOnSave:"notebook.formatOnSave.enabled",formatOnCellExecution:"notebook.formatOnCellExecution",codeActionsOnSave:"notebook.codeActionsOnSave",outputWordWrap:"notebook.output.wordWrap",outputLineHeightDeprecated:"notebook.outputLineHeight",outputLineHeight:"notebook.output.lineHeight",outputFontSizeDeprecated:"notebook.outputFontSize",outputFontSize:"notebook.output.fontSize",outputFontFamilyDeprecated:"notebook.outputFontFamily",outputFontFamily:"notebook.output.fontFamily",findScope:"notebook.find.scope",logging:"notebook.logging",confirmDeleteRunningCell:"notebook.confirmDeleteRunningCell",remoteSaving:"notebook.experimental.remoteSave"};var P;(function(C){C[C.Left=1]="Left",C[C.Right=2]="Right"})(P||(t.CellStatusbarAlignment=P={}));class d{static{this.d="notebook/"}static create(G){return`${d.d}${G}`}static parse(G){if(G.startsWith(d.d))return G.substring(d.d.length)}}t.$QH=d;function y(C){return["application/vnd.code.notebook.stdout","application/vnd.code.notebook.stderr"].includes(C)}t.$RH=y;const B=new TextDecoder;function Z(C){const G=[];let nt=!1;for(const W of C)(G.length===0||nt)&&(G.push(W),nt=!0);let N=z(G);const q=U.$Ec.concat(G.map(W=>U.$Ec.wrap(W))),M=tt(q);return N=N||M.byteLength!==q.byteLength,{data:M,didCompression:N}}t.$SH=Z,t.$TH=`${String.fromCharCode(27)}[A`;const A=t.$TH.split("").map(C=>C.charCodeAt(0)),w=10;function z(C){let G=!1;return C.forEach((nt,N)=>{if(N===0||nt.length<t.$TH.length)return;const q=C[N-1],M=nt.subarray(0,t.$TH.length);if(M[0]===A[0]&&M[1]===A[1]&&M[2]===A[2]){const W=q.lastIndexOf(w);if(W===-1)return;G=!0,C[N-1]=q.subarray(0,W),C[N]=nt.subarray(t.$TH.length)}}),G}function K(C){let G=C;do C=G,G=C.replace(/[^\n]\x08/gm,"");while(G.length<C.length);return C}function _(C){for(C=C.replace(/\r+\n/gm,`
`);C.search(/\r[^$]/g)>-1;){const G=C.match(/^(.*)\r+/m)[1];let nt=C.match(/\r+(.*)$/m)[1];nt=nt+G.slice(nt.length,G.length),C=C.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,nt)}return C}const x="\b".charCodeAt(0),et="\r".charCodeAt(0);function tt(C){return!C.buffer.includes(x)&&!C.buffer.includes(et)?C:U.$Ec.fromString(_(K(B.decode(C.buffer))))}}),define(rt[43],lt([0,1,44,45,12,28,36,9,19]),function(st,t,U,j,D,E,H,V,I){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.NotebookEditorSimpleWorker=void 0;function f(a){let s=(0,j.$fi)(104579,0);for(let c=0;c<a.buffer.length;c++)s=(0,j.$ei)(a.buffer[c],s);return s}class b{get textBuffer(){if(this.a)return this.a;const s=new E.$iC;s.acceptChunk(Array.isArray(this.d)?this.d.join(`
`):this.d);const c=s.finish(!0);return this.a=c.create(1).textBuffer,this.a}primaryKey(){return this.b===void 0&&(this.b=(0,j.$di)(this.getValue())),this.b}constructor(s,c,e,l,i,u,h){this.handle=s,this.d=c,this.language=e,this.cellKind=l,this.outputs=i,this.metadata=u,this.internalMetadata=h,this.b=null,this.c=null}getFullModelRange(){const s=this.textBuffer.getLineCount();return new V.$Ur(1,1,s,this.textBuffer.getLineLength(s)+1)}getValue(){const s=this.getFullModelRange();return this.textBuffer.getValueInRange(s,1)}getComparisonValue(){return this.b!==null?this.b:(this.c=(0,j.$di)([(0,j.$di)(this.language),(0,j.$di)(this.getValue()),this.metadata,this.internalMetadata,this.outputs.map(s=>({outputs:s.outputs.map(c=>({mime:c.mime,data:f(c.data)})),metadata:s.metadata}))]),this.c)}getHashValue(){return this.c!==null?this.c:(this.c=(0,j.$di)([(0,j.$di)(this.getValue()),this.language,this.metadata,this.internalMetadata]),this.c)}}class k{constructor(s,c,e){this.uri=s,this.cells=c,this.metadata=e}acceptModelChanged(s){s.rawEvents.forEach(c=>{if(c.kind===H.NotebookCellsChangeType.ModelChange)this._spliceNotebookCells(c.changes);else if(c.kind===H.NotebookCellsChangeType.Move){const e=this.cells.splice(c.index,1);this.cells.splice(c.newIdx,0,...e)}else if(c.kind===H.NotebookCellsChangeType.Output){const e=this.cells[c.index];e.outputs=c.outputs}else if(c.kind===H.NotebookCellsChangeType.ChangeCellLanguage){this.a(c.index);const e=this.cells[c.index];e.language=c.language}else if(c.kind===H.NotebookCellsChangeType.ChangeCellMetadata){this.a(c.index);const e=this.cells[c.index];e.metadata=c.metadata}else if(c.kind===H.NotebookCellsChangeType.ChangeCellInternalMetadata){this.a(c.index);const e=this.cells[c.index];e.internalMetadata=c.internalMetadata}})}a(s){if(s<0||s>=this.cells.length)throw new Error(`Illegal index ${s}. Cells length: ${this.cells.length}`)}_spliceNotebookCells(s){s.reverse().forEach(c=>{const l=c[2].map(i=>new b(i.handle,i.source,i.language,i.cellKind,i.outputs,i.metadata));this.cells.splice(c[0],c[1],...l)})}}class ${constructor(s){this.textModel=s}getElements(){const s=new Int32Array(this.textModel.cells.length);for(let c=0;c<this.textModel.cells.length;c++)s[c]=this.textModel.cells[c].getComparisonValue();return s}getCellHash(s){const c=Array.isArray(s.source)?s.source.join(`
`):s.source;return(0,j.$di)([(0,j.$di)(c),s.metadata])}}class O{constructor(){this.a=Object.create(null)}dispose(){}acceptNewModel(s,c){this.a[s]=new k(D.URI.parse(s),c.cells.map(e=>new b(e.handle,e.source,e.language,e.cellKind,e.outputs,e.metadata)),c.metadata)}acceptModelChanged(s,c){this.a[s]?.acceptModelChanged(c)}acceptRemovedModel(s){this.a[s]&&delete this.a[s]}computeDiff(s,c){const e=this.b(s),l=this.b(c);return{cellsDiff:new U.$uu(new $(e),new $(l)).ComputeDiff(!1)}}canPromptRecommendation(s){const e=this.b(s).cells;for(let l=0;l<e.length;l++){const i=e[l];if(i.cellKind===H.CellKind.Markup||i.language!=="python")continue;const u=i.textBuffer.getLineCount(),h=Math.min(u,20),p=new V.$Ur(1,1,h,i.textBuffer.getLineLength(h)+1),S=new I.$9B("import\\s*pandas|from\\s*pandas",!0,!1,null).parseSearchRequest();if(!S)continue;if(i.textBuffer.findMatchesLineByLine(p,S,!0,1).length>0)return!0}return!1}b(s){return this.a[s]}}t.NotebookEditorSimpleWorker=O;function m(a){return new O}t.create=m})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/8b617bd08fd9e3fc94d14adb8d358b56e3f72314/core/vs/workbench/contrib/notebook/common/services/notebookSimpleWorker.js.map
